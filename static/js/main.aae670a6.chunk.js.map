{"version":3,"sources":["ui/shared/Layout.jsx","ui/welcome/useDragoverBehaviour.js","ui/welcome/useDroppedFile.jsx","assets/icons/upload.svg","ui/welcome/DropFile.jsx","ui/welcome/SimpleFileInput.jsx","ui/welcome/WelcomeView.jsx","assets/icons/arrow-left.svg","ui/main/ContactSelector.jsx","app/utils.js","ui/main/ChatView.jsx","ui/main/ChatMessage.jsx","app/useChatState.js","ui/shared/Spinner.jsx","app/Chat.jsx","lib/readBrowserFileContent.js","lib/whatsapp-parser/constants.js","lib/whatsapp-parser/parser.js","lib/whatsapp-parser/index.js","app/useMainState.js","ui/main/ErrorMessage.jsx","app/Main.jsx","app/common/TransitionWrapper.jsx","app/App.jsx","serviceWorker.js","index.js"],"names":["Layout","children","className","useDragoverBehaviour","dropFileRef","useEffect","dropFileElement","current","preventBehaviour","e","preventDefault","stopPropagation","addDragoverClass","event","classList","add","removeDragoverClass","remove","addEventListener","removeEventListener","useDroppedFile","setSelectedFile","getDroppedFile","dataTransfer","files","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","createElement","d","_ref3","points","_ref4","x1","y1","x2","y2","_ref","svgRef","title","props","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","ref","ForwardRef","forwardRef","DropFile","onSelectFile","useRef","fileInputRef","onClick","click","htmlFor","type","name","id","hidden","onChange","SimpleFileInput","isAdvancedUpload","div","document","WelcomeView","ContactSelector","contacts","onSelectContact","goBack","map","contact","isNilOrEmpty","R","ChatView","header","chatSlot","ChatMessage","msg","msgRef","isMine","isGroup","messageClassName","sender","message","date","toLocaleTimeString","hour","minute","initState","chat","messagesPerPage","allMessages","messages","filteredMessages","messageRefs","reduce","acc","React","createRef","hasMoreMessages","isGroupChat","page","reducer","state","action","nextPage","nextMessages","Error","useChatState","useReducer","dispatch","useLayoutEffect","latestMessageIndex","scrollIntoView","loadPrevious","useCallback","isVisible","setTimeout","Spinner","src","alt","Chat","selectedContact","renderMessage","delayedCall","readBrowserFileContent","file","Promise","resolve","reject","reader","FileReader","onload","ev","result","onerror","error","readAsText","WHATSAPP_MESSAGE_REGEXP","getDateByStrings","dateString","timeString","split","day","month","year","hours","minutes","seconds","Date","UTC","checkIsValidInput","parseContacts","parseWhatsappChat","input","match","RegExp","index","parseMessages","securityMessage","initialState","loading","payload","useMainState","selectedFile","a","data","setSelectedContact","ErrorMessage","Main","hasError","hasSelectedContact","TransitionWrapper","appear","animationType","CSSTransition","in","timeout","enter","exit","classNames","mountOnEnter","unmountOnExit","App","useState","Boolean","window","location","hostname","ReactDOM","render","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","console"],"mappings":"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","file":"static/js/main.aae670a6.chunk.js","sourcesContent":["import React from 'react'\n\nconst Layout = ({ children }) => {\n  return (\n    <div className=\"layout-grid\">\n      <div className=\"back-header\"></div>\n      {children}\n    </div>\n  )\n}\n\nexport default Layout\n","import { useEffect } from 'react'\n\nconst useDragoverBehaviour = dropFileRef => {\n  useEffect(() => {\n    const dropFileElement = dropFileRef.current\n\n    const preventBehaviour = e => {\n      e.preventDefault()\n      e.stopPropagation()\n    }\n\n    const addDragoverClass = event => {\n      preventBehaviour(event)\n      dropFileElement.classList.add('is-dragover')\n    }\n\n    const removeDragoverClass = event => {\n      preventBehaviour(event)\n      dropFileElement.classList.remove('is-dragover')\n    }\n\n    dropFileElement.addEventListener('dragover', addDragoverClass)\n    dropFileElement.addEventListener('dragenter', addDragoverClass)\n\n    dropFileElement.addEventListener('dragleave', removeDragoverClass)\n    dropFileElement.addEventListener('dragend', removeDragoverClass)\n    dropFileElement.addEventListener('drop', removeDragoverClass)\n\n    return () => {\n      dropFileElement.removeEventListener('dragover', addDragoverClass)\n      dropFileElement.removeEventListener('dragenter', addDragoverClass)\n\n      dropFileElement.removeEventListener('dragleave', removeDragoverClass)\n      dropFileElement.removeEventListener('dragend', removeDragoverClass)\n      dropFileElement.removeEventListener('drop', removeDragoverClass)\n    }\n  }, [dropFileRef])\n}\n\nexport default useDragoverBehaviour\n","import { useEffect } from 'react'\n\nconst useDroppedFile = (dropFileRef, setSelectedFile) => {\n  useEffect(() => {\n    const dropFileElement = dropFileRef.current\n\n    const getDroppedFile = event => {\n      event.preventDefault()\n      setSelectedFile(event.dataTransfer.files[0])\n    }\n\n    dropFileElement.addEventListener('drop', getDroppedFile)\n\n    return () => dropFileElement.removeEventListener('drop', getDroppedFile)\n  }, [dropFileRef, setSelectedFile])\n}\n\nexport default useDroppedFile\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\"\n});\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"polyline\", {\n  points: \"7 10 12 15 17 10\"\n});\n\nvar _ref4 =\n/*#__PURE__*/\nReact.createElement(\"line\", {\n  x1: 12,\n  y1: 15,\n  x2: 12,\n  y2: 3\n});\n\nvar SvgUpload = function SvgUpload(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 72,\n    height: 72,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 2,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-download\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgUpload, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/upload.749f1ba7.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useRef } from 'react'\nimport useDragoverBehaviour from './useDragoverBehaviour'\nimport useDroppedFile from './useDroppedFile'\nimport { ReactComponent as UploadIcon } from '../../assets/icons/upload.svg'\n\nconst DropFile = ({ onSelectFile }) => {\n  const dropFileRef = useRef()\n  const fileInputRef = useRef()\n\n  useDroppedFile(dropFileRef, onSelectFile)\n  useDragoverBehaviour(dropFileRef)\n\n  return (\n    <div\n      className=\"drop-file\"\n      ref={dropFileRef}\n      onClick={() => fileInputRef.current.click()}\n    >\n      <UploadIcon />\n\n      <label htmlFor=\"chat\">Choose a file or drag it here!</label>\n\n      <input\n        type=\"file\"\n        name=\"chat\"\n        id=\"chat\"\n        hidden\n        ref={fileInputRef}\n        onChange={event => onSelectFile(event.target.files[0])}\n      />\n    </div>\n  )\n}\n\nexport default DropFile\n","import React, { useRef } from 'react'\nimport { ReactComponent as UploadIcon } from '../../assets/icons/upload.svg'\n\nconst SimpleFileInput = ({ onSelectFile }) => {\n  const fileInputRef = useRef()\n\n  return (\n    <div className=\"drop-file\" onClick={() => fileInputRef.current.click()}>\n      <UploadIcon />\n\n      <label htmlFor=\"chat\">Choose a file or drag it here!</label>\n\n      <input\n        type=\"file\"\n        name=\"chat\"\n        id=\"chat\"\n        hidden\n        ref={fileInputRef}\n        onChange={event => onSelectFile(event.target.files[0])}\n      />\n    </div>\n  )\n}\n\nexport default SimpleFileInput\n","import React from 'react'\nimport DropFile from './DropFile'\nimport SimpleFileInput from './SimpleFileInput'\n\n// Read more: https://css-tricks.com/drag-and-drop-file-uploading/\nconst isAdvancedUpload = (function() {\n  var div = document.createElement('div')\n  return 'draggable' in div || ('ondragstart' in div && 'ondrop' in div)\n})()\n\nconst WelcomeView = ({ onSelectFile }) => {\n  return (\n    <div className=\"card welcome\">\n      <h1 className=\"welcome-title\">WhatsApp Chat Viewer</h1>\n      <div className=\"paragraph-1\">\n        Lorem, ipsum dolor sit amet consectetur adipisicing elit. Rerum esse vel\n        necessitatibus! Suscipit a aliquid ea natus dolores temporibus deserunt\n        quod mollitia voluptates modi earum, odio eius explicabo asperiores\n        adipisci?\n      </div>\n\n      {isAdvancedUpload ? (\n        <DropFile onSelectFile={onSelectFile} />\n      ) : (\n        <SimpleFileInput onSelectFile={onSelectFile} />\n      )}\n\n      <div className=\"paragraph-2\">\n        <p>\n          Lorem ipsum dolor sit amet consectetur, adipisicing elit. Obcaecati\n          repellat corporis incidunt itaque similique, nam quod illo esse amet\n          sequi laboriosam est, dicta assumenda aliquid, inventore animi\n          asperiores velit non?\n        </p>\n        <p>\n          Lorem ipsum dolor sit amet consectetur, adipisicing elit. Obcaecati\n          repellat corporis incidunt itaque similique, nam quod illo esse amet\n          sequi laboriosam est, dicta assumenda aliquid, inventore animi\n          asperiores velit non?\n        </p>\n      </div>\n    </div>\n  )\n}\n\nexport default WelcomeView\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"line\", {\n  x1: 19,\n  y1: 12,\n  x2: 5,\n  y2: 12\n});\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"polyline\", {\n  points: \"12 19 5 12 12 5\"\n});\n\nvar SvgArrowLeft = function SvgArrowLeft(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 40,\n    height: 40,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 2,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-arrow-left\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgArrowLeft, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/arrow-left.3b5d5b59.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react'\nimport { ReactComponent as BackArrow } from '../../assets/icons/arrow-left.svg'\n\nconst ContactSelector = ({ contacts, onSelectContact, goBack }) => {\n  return (\n    <div className=\"card contact-selector\">\n      <div className=\"who-are-you\">\n        <BackArrow className=\"back-arrow\" onClick={goBack} />\n        <span className=\"text\">Select who you are.</span>\n      </div>\n\n      {contacts.map(contact => (\n        <button\n          className=\"contact\"\n          key={contact}\n          onClick={() => onSelectContact(contact)}\n        >\n          {contact}\n        </button>\n      ))}\n    </div>\n  )\n}\n\nexport default ContactSelector\n","import * as R from 'ramda'\n\nexport const isNilOrEmpty = R.anyPass([R.isNil, R.isEmpty])\n\nexport const dateToLocateTimeString = date =>\n  date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })\n","import React from 'react'\nimport { ReactComponent as BackArrow } from '../../assets/icons/arrow-left.svg'\n\nconst ChatView = ({ header, goBack, chatSlot }) => {\n  return (\n    <>\n      <div className=\"chat-header\">\n        <BackArrow className=\"back-arrow\" onClick={goBack} />\n        <span className=\"header-text\">{header}</span>\n      </div>\n\n      <div className=\"chat-grid\">{chatSlot}</div>\n    </>\n  )\n}\n\nexport default ChatView\n","import React from 'react'\nimport { dateToLocateTimeString } from '../../app/utils'\n\nconst ChatMessage = ({ msg, msgRef, isMine, isGroup }) => {\n  const messageClassName = isMine ? 'mine' : 'others'\n\n  return (\n    <div className={`message ${messageClassName}`} ref={msgRef}>\n      {isGroup && !isMine ? <p className=\"sender\">{msg.sender}</p> : null}\n      <pre className=\"content\">{msg.message}</pre>\n      <span className=\"date\">{dateToLocateTimeString(msg.date)}</span>\n    </div>\n  )\n}\n\nexport default ChatMessage\n","import React, { useReducer, useLayoutEffect, useCallback } from 'react'\nimport * as R from 'ramda'\n\nconst initState = ({ chat, messagesPerPage }) => {\n  const allMessages = chat.messages\n\n  const filteredMessages = R.takeLast(messagesPerPage, allMessages)\n\n  return {\n    allMessages,\n    messagesPerPage,\n    messages: filteredMessages,\n    messageRefs: allMessages.reduce(\n      (acc, msg) => ({ ...acc, [msg.id]: React.createRef() }),\n      {}\n    ),\n    hasMoreMessages: allMessages.length !== filteredMessages.length,\n    isGroupChat: chat.contacts.length > 2,\n    page: 1\n  }\n}\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case 'loadPrevious': {\n      const nextPage = state.page + 1\n      const nextMessages = R.takeLast(\n        state.messagesPerPage * nextPage,\n        state.allMessages\n      )\n\n      return {\n        ...state,\n        page: nextPage,\n        messages: nextMessages,\n        hasMoreMessages: state.allMessages.length !== nextMessages.length\n      }\n    }\n\n    default:\n      throw new Error()\n  }\n}\n\nconst useChatState = ({ chat, messagesPerPage }) => {\n  const [state, dispatch] = useReducer(\n    reducer,\n    { chat, messagesPerPage },\n    initState\n  )\n\n  useLayoutEffect(() => {\n    const allMessageCount = state.allMessages.length\n    const latestMessageIndex =\n      allMessageCount - (state.page - 1) * state.messagesPerPage\n    const lastMessage = state.messageRefs[latestMessageIndex]\n\n    lastMessage.current.scrollIntoView(true)\n  }, [\n    state.allMessages.length,\n    state.messageRefs,\n    state.messagesPerPage,\n    state.page\n  ])\n\n  const loadPrevious = useCallback(isVisible => {\n    if (isVisible) {\n      setTimeout(() => dispatch({ type: 'loadPrevious' }), 500)\n    }\n  }, [])\n\n  return {\n    loadPrevious,\n    ...state\n  }\n}\n\nexport default useChatState\n","import React from 'react'\n\nconst Spinner = () => {\n  return (\n    <img\n      src=\"https://i.gifer.com/origin/34/34338d26023e5515f6cc8969aa027bca_w200.gif\"\n      alt=\"loader\"\n    />\n  )\n}\n\nexport default Spinner\n","import React from 'react'\nimport ChatView from '../ui/main/ChatView'\nimport ChatMessage from '../ui/main/ChatMessage'\nimport VisibilitySensor from 'react-visibility-sensor'\nimport { useCallback } from 'react'\nimport useChatState from './useChatState'\nimport Spinner from '../ui/shared/Spinner'\n\nconst Chat = ({ chat, selectedContact, goBack }) => {\n  const {\n    hasMoreMessages,\n    loadPrevious,\n    messages,\n    messageRefs,\n    isGroupChat\n  } = useChatState({\n    chat: chat,\n    messagesPerPage: 100\n  })\n\n  const renderMessage = useCallback(\n    msg => {\n      const isMine = msg.sender === selectedContact\n\n      return (\n        <ChatMessage\n          key={msg.id}\n          msg={msg}\n          msgRef={messageRefs[msg.id]}\n          isMine={isMine}\n          isGroup={isGroupChat}\n        />\n      )\n    },\n    [isGroupChat, messageRefs, selectedContact]\n  )\n\n  return (\n    <div className=\"card chat\">\n      <ChatView\n        header={chat?.header}\n        goBack={goBack}\n        chatSlot={\n          <>\n            {hasMoreMessages && (\n              <VisibilitySensor onChange={loadPrevious} delayedCall={true}>\n                <div className=\"loader\">\n                  <Spinner />\n                </div>\n              </VisibilitySensor>\n            )}\n\n            {messages.map(renderMessage)}\n          </>\n        }\n      />\n    </div>\n  )\n}\n\nexport default Chat\n","const readBrowserFileContent = file => {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader()\n\n    reader.onload = ev => {\n      resolve(ev.target.result)\n    }\n\n    reader.onerror = ev => {\n      reject(ev.target.error)\n    }\n\n    reader.readAsText(file)\n  })\n}\n\nexport default readBrowserFileContent\n","export const DATE_SEPARATOR = '/'\nexport const TIME_SEPARATOR = ':'\n\nexport const SECURITY_MESSAGE_REGEXP = /are now secured with end-to-end encryption./\n\nexport const WHATSAPP_MESSAGE_REGEXP = /\\[(\\d{2}\\/\\d{2}\\/\\d{4}), (\\d{2}:\\d{2}:\\d{2})\\] ([^:]+): (([^[\\]])*)/i\n","import * as R from 'ramda'\nimport {\n  DATE_SEPARATOR,\n  TIME_SEPARATOR,\n  SECURITY_MESSAGE_REGEXP,\n  WHATSAPP_MESSAGE_REGEXP\n} from './constants'\n\nconst getDateByStrings = (dateString, timeString) => {\n  const [day, month, year] = dateString.split(DATE_SEPARATOR)\n  const [hours, minutes, seconds] = timeString.split(TIME_SEPARATOR)\n\n  // The month must be between 0 and 11\n  const date = new Date(Date.UTC(year, month - 1, day, hours, minutes, seconds))\n  return date\n}\n\nconst checkIsValidInput = R.pipe(\n  R.split('\\n'),\n  R.nth(0),\n  R.match(SECURITY_MESSAGE_REGEXP),\n  R.complement(R.isEmpty)\n)\n\nexport const parseMessages = input => {\n  const isValidChat = checkIsValidInput(input)\n\n  if (!isValidChat) {\n    throw new Error('We cannot read whatsapp chat')\n  }\n\n  const messages = input.match(new RegExp(WHATSAPP_MESSAGE_REGEXP, 'g'))\n\n  const parsedMessages = messages.map((msg, index) => {\n    const [, date, hour, sender, message] = msg.match(WHATSAPP_MESSAGE_REGEXP)\n    return { id: index, date: getDateByStrings(date, hour), sender, message }\n  })\n\n  return parsedMessages\n}\n\nexport const parseContacts = R.pipe(\n  R.map(R.prop('sender')),\n  R.filter(R.pipe(R.isEmpty, R.not)),\n  R.uniq\n)\n","import { parseMessages, parseContacts } from './parser'\n\nconst parseWhatsappChat = input => {\n  const [securityMessage, ...messages] = parseMessages(input)\n  const contacts = parseContacts(messages)\n\n  const { sender: header } = securityMessage\n\n  return { header, messages, contacts }\n}\n\nexport default parseWhatsappChat\n","import { useEffect, useReducer, useCallback } from 'react'\nimport readBrowserFileContent from '../lib/readBrowserFileContent'\nimport parseWhatsappChat from '../lib/whatsapp-parser'\n\nconst initialState = {\n  chat: null,\n  selectedContact: null,\n  error: null,\n  loading: true\n}\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case 'setChat': {\n      return {\n        ...state,\n        chat: action.payload,\n        loading: false\n      }\n    }\n\n    case 'setLoadError': {\n      return {\n        ...state,\n        loading: false,\n        error: action.payload\n      }\n    }\n\n    case 'selectContact': {\n      return {\n        ...state,\n        selectedContact: action.payload\n      }\n    }\n\n    default: {\n      throw new Error()\n    }\n  }\n}\n\nconst useMainState = selectedFile => {\n  const [state, dispatch] = useReducer(reducer, initialState)\n\n  useEffect(() => {\n    ;(async function() {\n      try {\n        if (!selectedFile) return\n\n        const data = await readBrowserFileContent(selectedFile)\n        const chat = parseWhatsappChat(data)\n\n        dispatch({ type: 'setChat', payload: chat })\n      } catch (error) {\n        dispatch({ type: 'setLoadError', payload: error })\n      }\n    })()\n  }, [selectedFile])\n\n  const setSelectedContact = useCallback(contact => {\n    dispatch({ type: 'selectContact', payload: contact })\n  }, [])\n\n  return { ...state, setSelectedContact }\n}\n\nexport default useMainState\n","import React from 'react'\n\nconst ErrorMessage = ({ error, goBack }) => {\n  return (\n    <div className=\"card error\">\n      <h2 className=\"error-title\">Error loading WhatsApp Chat</h2>\n      <p className=\"error-description\">{error?.message}</p>\n      <button className=\"back-button\" onClick={goBack}>\n        Try again\n      </button>\n    </div>\n  )\n}\n\nexport default ErrorMessage\n","import React from 'react'\nimport ContactSelector from '../ui/main/ContactSelector'\nimport { isNilOrEmpty } from './utils'\nimport Chat from './Chat'\nimport Spinner from '../ui/shared/Spinner'\nimport useMainState from './useMainState'\nimport ErrorMessage from '../ui/main/ErrorMessage'\n\nconst Main = ({ selectedFile, goBack }) => {\n  const {\n    chat,\n    loading,\n    error,\n    selectedContact,\n    setSelectedContact\n  } = useMainState(selectedFile)\n\n  const hasError = !isNilOrEmpty(error) && !loading\n  const hasSelectedContact = !isNilOrEmpty(selectedContact)\n\n  return (\n    <>\n      {loading && (\n        <div className=\"card loader\">\n          <Spinner />\n        </div>\n      )}\n\n      {hasError && <ErrorMessage error={error} goBack={goBack} />}\n\n      {!hasSelectedContact && !hasError && (\n        <ContactSelector\n          contacts={chat?.contacts || []}\n          onSelectContact={setSelectedContact}\n          goBack={goBack}\n        />\n      )}\n\n      {hasSelectedContact && (\n        <Chat chat={chat} selectedContact={selectedContact} goBack={goBack} />\n      )}\n    </>\n  )\n}\n\nexport default Main\n","import React from 'react'\nimport { CSSTransition } from 'react-transition-group'\n\nconst TransitionWrapper = ({ appear, animationType, children }) => {\n  return (\n    <CSSTransition\n      appear={appear}\n      in={appear}\n      timeout={{\n        enter: 600,\n        exit: 200\n      }}\n      classNames={animationType}\n      mountOnEnter\n      unmountOnExit\n    >\n      {children}\n    </CSSTransition>\n  )\n}\n\nexport default TransitionWrapper\n","import React, { useState, useCallback } from 'react'\nimport Layout from '../ui/shared/Layout'\nimport WelcomeView from '../ui/welcome/WelcomeView'\nimport Main from './Main'\nimport TransitionWrapper from './common/TransitionWrapper'\n\nconst App = () => {\n  const [selectedFile, setSelectedFile] = useState()\n\n  const onSelectFile = useCallback(file => {\n    setSelectedFile(file)\n  }, [])\n\n  const goBack = useCallback(() => setSelectedFile(null), [])\n\n  return (\n    <Layout>\n      <TransitionWrapper appear={!selectedFile} animationType=\"from-left\">\n        <WelcomeView onSelectFile={onSelectFile} />\n      </TransitionWrapper>\n\n      <TransitionWrapper appear={!!selectedFile} animationType=\"from-right\">\n        <Main goBack={goBack} selectedFile={selectedFile} />\n      </TransitionWrapper>\n    </Layout>\n  )\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './styles/index.scss'\nimport App from './app/App'\nimport * as serviceWorker from './serviceWorker'\n\nReactDOM.render(<App />, document.getElementById('root'))\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}
{"version":3,"sources":["assets/icons/upload.svg","ui/shared/Layout.jsx","ui/views/AboutApp.jsx","ui/forms/useDragoverBehaviour.js","ui/forms/useDroppedFile.js","ui/forms/DropFile.jsx","ui/forms/SimpleFileInput.jsx","ui/views/SelectFileView.jsx","lib/readBrowserFileContent.js","lib/whatsapp-parser/constants.js","lib/whatsapp-parser/parser.js","lib/whatsapp-parser/index.js","app/useMainState.js","assets/icons/three-dots.svg","app/utils.js","assets/icons/arrow-left.svg","ui/shared/Spinner.jsx","ui/views/SpinnerView.jsx","ui/views/ErrorView.jsx","ui/chat/ContactSelector.jsx","ui/chat/ChatView.jsx","ui/chat/ChatMessage.jsx","app/useChatState.js","app/Chat.jsx","app/useWindowDimensions.js","app/App.jsx","serviceWorker.js","index.js"],"names":["_path","_polyline","_line","Layout","_ref","children","React","createElement","className","AboutApp","href","useDragoverBehaviour","dropFileRef","useEffect","dropFileElement","current","preventBehaviour","e","preventDefault","stopPropagation","addDragoverClass","event","classList","add","removeDragoverClass","remove","addEventListener","removeEventListener","useDroppedFile","setSelectedFile","getDroppedFile","dataTransfer","files","_excluded","_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","svgRef","title","props","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","ref","d","points","x1","y1","x2","y2","ForwardRef","forwardRef","DropFile","onSelectFile","useRef","fileInputRef","onClick","click","UploadIcon","htmlFor","type","name","id","hidden","onChange","SimpleFileInput","isAdvancedUpload","div","document","SelectFileView","readBrowserFileContent","file","Promise","resolve","reject","reader","FileReader","onload","ev","result","onerror","error","readAsText","WHATSAPP_MESSAGE_REGEXP","getDateByStrings","dateString","timeString","_dateString$split","split","_dateString$split2","_slicedToArray","day","month","year","_timeString$split","_timeString$split2","hours","minutes","seconds","Date","UTC","parseWhatsappChat","input","_parseMessages","messages","match","RegExp","Error","map","msg","index","_msg$match","_msg$match2","date","hour","sender","message","parseMessages","_parseMessages2","_toArray","securityMessage","slice","contacts","uniqContacts","Set","forEach","has","Array","from","parseContacts","header","_regeneratorRuntime","t","r","n","o","defineProperty","value","Symbol","a","iterator","c","asyncIterator","u","toStringTag","define","enumerable","configurable","writable","wrap","Generator","create","Context","makeInvokeMethod","tryCatch","arg","h","f","s","y","GeneratorFunction","GeneratorFunctionPrototype","p","getPrototypeOf","v","values","g","defineIteratorMethods","_invoke","AsyncIterator","invoke","__await","then","callInvokeWithMethodAndArg","done","method","delegate","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","return","TypeError","resultName","next","nextLoc","pushTryEntry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","isNaN","displayName","isGeneratorFunction","constructor","mark","setPrototypeOf","__proto__","awrap","async","reverse","pop","prev","charAt","stop","rval","handle","complete","finish","catch","delegateYield","_circle","_circle2","_circle3","initialState","chat","selectedContact","loading","reducer","state","action","_objectSpread","payload","useMainState","selectedFile","_useReducer","useReducer","_useReducer2","dispatch","_asyncToGenerator","_callee","data","_context","t0","setSelectedContact","useCallback","contact","isNilOrEmpty","R","cx","cy","attributeName","to","begin","dur","calcMode","repeatCount","fillOpacity","Spinner","SpinnerView","ErrorView","onClickTryAgain","ContactSelector","onSelectContact","goBack","BackArrow","ChatView","chatSlot","ChatMessage","msgRef","isMine","isGroup","messageClassName","concat","toLocaleTimeString","minute","referenceCreator","acc","createRef","initState","messagesPerPage","allMessages","filteredMessages","messageRefs","reduce","hasMoreMessages","isGroupChat","page","nextPage","allMessagesLength","nextMessages","Math","max","nextMessagesRefs","useChatState","_ref2","useLayoutEffect","allMessageCount","latestMessageIndex","scrollIntoView","loadPrevious","isVisible","setTimeout","Chat","_useChatState","renderMessage","Fragment","VisibilitySensor","delayedCall","getWindowDimensions","_window","window","innerWidth","innerHeight","App","_useState","useState","_useState2","_useMainState","hasFile","hasSelectedContact","isReducedView","windowDimensions","setWindowDimensions","handleResize","useWindowDimensions","Boolean","location","hostname","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister","console"],"mappings":"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","file":"static/js/main.e164f30b.chunk.js","sourcesContent":["var _path, _polyline, _line;\nvar _excluded = [\"svgRef\", \"title\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport React from \"react\";\nvar SvgUpload = function SvgUpload(_ref) {\n  var svgRef = _ref.svgRef,\n    title = _ref.title,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 72,\n    height: 72,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 2,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-download\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\"\n  })), _polyline || (_polyline = /*#__PURE__*/React.createElement(\"polyline\", {\n    points: \"7 10 12 15 17 10\"\n  })), _line || (_line = /*#__PURE__*/React.createElement(\"line\", {\n    x1: 12,\n    y1: 15,\n    x2: 12,\n    y2: 3\n  })));\n};\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgUpload, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/upload.749f1ba7.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react'\n\nconst Layout = ({ children }) => {\n  return <div className=\"layoutGrid\">{children}</div>\n}\n\nexport default Layout\n","import React from 'react'\n\nconst AboutApp = () => {\n  return (\n    <div className=\"aboutApp\">\n      <h1 className=\"welcome-title\">WhatsApp<br/>Chat viewer</h1>\n\n      <p>\n        WhatsApp chat viewer is an online tool that allows you to view your\n        WhatsApp exported chats. The web doesn't store any user data it only\n        formats the chat messages in a more visual way in order to help users to\n        read exported chats.\n      </p>\n\n      <p>\n        In order to be able to use this tool, you will need an exported WhatsApp\n        chat. This file has the extension txt. Bellow, I will show you how you\n        can export a WhatsApp chat.\n      </p>\n\n      <h2 className=\"aboutApp-subheader\">How to export a WhatsApp Chat?</h2>\n      <p>Follow the \"Export chat history\" part of the tutorials bellow.</p>\n      <p>\n        <a href=\"https://faq.whatsapp.com/en/android/23756533/\">\n          For Android devices\n        </a>\n      </p>\n      <p>\n        <a href=\"https://faq.whatsapp.com/en/iphone/26000285/?category=5245251\">\n          For iPhone devices\n        </a>\n      </p>\n\n      <h2 className=\"aboutApp-subheader\">About this project.</h2>\n      <p>\n        This is a personal project developed by{' '}\n        <a href=\"https://github.com/MonkeyAndres\">@MonkeyAndres</a>. Is\n        completely free and open source. You can access the source code{' '}\n        <a href=\"https://github.com/MonkeyAndres/whatsapp-chat-viewer\">here.</a>\n      </p>\n\n      <br />\n    </div>\n  )\n}\n\nexport default AboutApp\n","import { useEffect } from 'react'\n\nconst useDragoverBehaviour = dropFileRef => {\n  useEffect(() => {\n    const dropFileElement = dropFileRef.current\n\n    const preventBehaviour = e => {\n      e.preventDefault()\n      e.stopPropagation()\n    }\n\n    const addDragoverClass = event => {\n      preventBehaviour(event)\n      dropFileElement.classList.add('is-dragover')\n    }\n\n    const removeDragoverClass = event => {\n      preventBehaviour(event)\n      dropFileElement.classList.remove('is-dragover')\n    }\n\n    dropFileElement.addEventListener('dragover', addDragoverClass)\n    dropFileElement.addEventListener('dragenter', addDragoverClass)\n\n    dropFileElement.addEventListener('dragleave', removeDragoverClass)\n    dropFileElement.addEventListener('dragend', removeDragoverClass)\n    dropFileElement.addEventListener('drop', removeDragoverClass)\n\n    return () => {\n      dropFileElement.removeEventListener('dragover', addDragoverClass)\n      dropFileElement.removeEventListener('dragenter', addDragoverClass)\n\n      dropFileElement.removeEventListener('dragleave', removeDragoverClass)\n      dropFileElement.removeEventListener('dragend', removeDragoverClass)\n      dropFileElement.removeEventListener('drop', removeDragoverClass)\n    }\n  }, [dropFileRef])\n}\n\nexport default useDragoverBehaviour\n","import { useEffect } from 'react'\n\nconst useDroppedFile = (dropFileRef, setSelectedFile) => {\n  useEffect(() => {\n    const dropFileElement = dropFileRef.current\n\n    const getDroppedFile = event => {\n      event.preventDefault()\n      setSelectedFile(event.dataTransfer.files[0])\n    }\n\n    dropFileElement.addEventListener('drop', getDroppedFile)\n\n    return () => dropFileElement.removeEventListener('drop', getDroppedFile)\n  }, [dropFileRef, setSelectedFile])\n}\n\nexport default useDroppedFile\n","import React, { useRef } from 'react'\nimport useDragoverBehaviour from './useDragoverBehaviour'\nimport useDroppedFile from './useDroppedFile'\nimport { ReactComponent as UploadIcon } from '../../assets/icons/upload.svg'\n\nconst DropFile = ({ onSelectFile }) => {\n  const dropFileRef = useRef()\n  const fileInputRef = useRef()\n\n  useDroppedFile(dropFileRef, onSelectFile)\n  useDragoverBehaviour(dropFileRef)\n\n  return (\n    <div\n      className=\"selectFile selectFile--advance\"\n      ref={dropFileRef}\n      onClick={() => fileInputRef.current.click()}\n    >\n      <UploadIcon className=\"selectFile-icon\" />\n\n      <h2 className=\"selectFile-label\" htmlFor=\"chat\">\n        Choose a file or drag it here!\n      </h2>\n\n      <input\n        type=\"file\"\n        name=\"chat\"\n        id=\"chat\"\n        hidden\n        ref={fileInputRef}\n        onChange={(event) => onSelectFile(event.target.files[0])}\n      />\n    </div>\n  )\n}\n\nexport default DropFile\n","import React, { useRef } from 'react'\nimport { ReactComponent as UploadIcon } from '../../assets/icons/upload.svg'\n\nconst SimpleFileInput = ({ onSelectFile }) => {\n  const fileInputRef = useRef()\n\n  return (\n    <div className=\"selectFile\" onClick={() => fileInputRef.current.click()}>\n      <UploadIcon className=\"selectFile-icon\" />\n\n      <h2 className=\"selectFile-label\" htmlFor=\"chat\">\n        Choose a file!\n      </h2>\n\n      <input\n        type=\"file\"\n        name=\"chat\"\n        id=\"chat\"\n        hidden\n        ref={fileInputRef}\n        onChange={(event) => onSelectFile(event.target.files[0])}\n      />\n    </div>\n  )\n}\n\nexport default SimpleFileInput\n","import React from 'react'\nimport DropFile from '../forms/DropFile'\nimport SimpleFileInput from '../forms/SimpleFileInput'\n\n// Read more: https://css-tricks.com/drag-and-drop-file-uploading/\nconst isAdvancedUpload = (function () {\n  var div = document.createElement('div')\n  return 'draggable' in div || ('ondragstart' in div && 'ondrop' in div)\n})()\n\nconst SelectFileView = ({ onSelectFile }) => {\n  return (\n    <div className=\"selectFileView\">\n      {isAdvancedUpload ? (\n        <DropFile onSelectFile={onSelectFile} />\n      ) : (\n        <SimpleFileInput onSelectFile={onSelectFile} />\n      )}\n    </div>\n  )\n}\n\nexport default SelectFileView\n","const readBrowserFileContent = file => {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader()\n\n    reader.onload = ev => {\n      resolve(ev.target.result)\n    }\n\n    reader.onerror = ev => {\n      reject(ev.target.error)\n    }\n\n    reader.readAsText(file)\n  })\n}\n\nexport default readBrowserFileContent\n","export const DATE_SEPARATOR = '/'\nexport const TIME_SEPARATOR = ':'\n\nexport const SECURITY_MESSAGE_REGEXP = /are now secured with end-to-end encryption./\n\nexport const WHATSAPP_MESSAGE_REGEXP = /\\[(\\d{1,2}\\/\\d{1,2}\\/\\d{2,4}),? (\\d{2}:\\d{2}:\\d{2})\\] ([^:]+): (([^[\\]])*)/i\n","import {\n  DATE_SEPARATOR,\n  TIME_SEPARATOR,\n  // SECURITY_MESSAGE_REGEXP,\n  WHATSAPP_MESSAGE_REGEXP\n} from './constants'\n\nconst getDateByStrings = (dateString, timeString) => {\n  const [day, month, year] = dateString.split(DATE_SEPARATOR)\n  const [hours, minutes, seconds] = timeString.split(TIME_SEPARATOR)\n\n  // The month must be between 0 and 11\n  const date = new Date(Date.UTC(year, month - 1, day, hours, minutes, seconds))\n  return date\n}\n\n// const checkIsValidInput = R.pipe(\n//   R.split('\\n'),\n//   R.nth(0),\n//   R.match(SECURITY_MESSAGE_REGEXP),\n//   R.complement(R.isEmpty)\n// )\n\nexport const parseMessages = input => {\n  /** HOTFIX! Comment security message check.\n  const isValidChat = checkIsValidInput(input)\n\n  if (!isValidChat) {\n    throw new Error('We cannot read whatsapp chat')\n  }\n  */\n\n  const messages = input.match(new RegExp(WHATSAPP_MESSAGE_REGEXP, 'g'))\n\n  if(!messages) {\n    throw new Error('We cannot read WhatsApp chat')\n  }\n\n  const parsedMessages = messages.map((msg, index) => {\n    const [, date, hour, sender, message] = msg.match(WHATSAPP_MESSAGE_REGEXP)\n    return { id: index, date: getDateByStrings(date, hour), sender, message }\n  })\n\n  return parsedMessages\n}\n\nexport const parseContacts = (messages) => {\n  const uniqContacts = new Set()\n\n  messages.forEach((msg) => {\n    if(uniqContacts.has(msg.sender)) return\n\n    uniqContacts.add(msg.sender)\n  })\n\n  return Array.from(uniqContacts)\n}","import { parseMessages, parseContacts } from './parser'\n\nconst parseWhatsappChat = input => {\n  const [securityMessage, ...messages] = parseMessages(input)\n  const contacts = parseContacts(messages)\n\n  const { sender: header } = securityMessage\n\n  return { header, messages, contacts }\n}\n\nexport default parseWhatsappChat\n","import { useEffect, useReducer, useCallback } from 'react'\nimport readBrowserFileContent from '../lib/readBrowserFileContent'\nimport parseWhatsappChat from '../lib/whatsapp-parser'\n\nconst initialState = {\n  chat: null,\n  selectedContact: null,\n  error: null,\n  loading: false,\n}\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case 'startLoading': {\n      return { ...state, loading: true }\n    }\n\n    case 'setChat': {\n      return {\n        ...state,\n        chat: action.payload,\n        loading: false,\n        error: null,\n      }\n    }\n\n    case 'setLoadError': {\n      return {\n        ...state,\n        loading: false,\n        error: action.payload,\n      }\n    }\n\n    case 'selectContact': {\n      return {\n        ...state,\n        selectedContact: action.payload,\n      }\n    }\n\n    default: {\n      throw new Error()\n    }\n  }\n}\n\nconst useMainState = (selectedFile) => {\n  const [state, dispatch] = useReducer(reducer, initialState)\n\n  useEffect(() => {\n    ;(async function () {\n      try {\n        if (!selectedFile) return\n\n        dispatch({ type: 'startLoading' })\n\n        const data = await readBrowserFileContent(selectedFile)\n        const chat = parseWhatsappChat(data)\n\n        dispatch({ type: 'setChat', payload: chat })\n      } catch (error) {\n        dispatch({ type: 'setLoadError', payload: error })\n      }\n    })()\n  }, [selectedFile])\n\n  const setSelectedContact = useCallback((contact) => {\n    dispatch({ type: 'selectContact', payload: contact })\n  }, [])\n\n  return { ...state, setSelectedContact }\n}\n\nexport default useMainState\n","var _circle, _circle2, _circle3;\nvar _excluded = [\"svgRef\", \"title\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport React from \"react\";\nvar SvgThreeDots = function SvgThreeDots(_ref) {\n  var svgRef = _ref.svgRef,\n    title = _ref.title,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 120,\n    height: 30,\n    viewBox: \"0 0 120 30\",\n    fill: \"#fff\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _circle || (_circle = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 15,\n    cy: 15,\n    r: 15\n  }, /*#__PURE__*/React.createElement(\"animate\", {\n    attributeName: \"r\",\n    from: 15,\n    to: 15,\n    begin: \"0s\",\n    dur: \"0.8s\",\n    values: \"15;9;15\",\n    calcMode: \"linear\",\n    repeatCount: \"indefinite\"\n  }), /*#__PURE__*/React.createElement(\"animate\", {\n    attributeName: \"fill-opacity\",\n    from: 1,\n    to: 1,\n    begin: \"0s\",\n    dur: \"0.8s\",\n    values: \"1;.5;1\",\n    calcMode: \"linear\",\n    repeatCount: \"indefinite\"\n  }))), _circle2 || (_circle2 = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 60,\n    cy: 15,\n    r: 9,\n    fillOpacity: 0.3\n  }, /*#__PURE__*/React.createElement(\"animate\", {\n    attributeName: \"r\",\n    from: 9,\n    to: 9,\n    begin: \"0s\",\n    dur: \"0.8s\",\n    values: \"9;15;9\",\n    calcMode: \"linear\",\n    repeatCount: \"indefinite\"\n  }), /*#__PURE__*/React.createElement(\"animate\", {\n    attributeName: \"fill-opacity\",\n    from: 0.5,\n    to: 0.5,\n    begin: \"0s\",\n    dur: \"0.8s\",\n    values: \".5;1;.5\",\n    calcMode: \"linear\",\n    repeatCount: \"indefinite\"\n  }))), _circle3 || (_circle3 = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 105,\n    cy: 15,\n    r: 15\n  }, /*#__PURE__*/React.createElement(\"animate\", {\n    attributeName: \"r\",\n    from: 15,\n    to: 15,\n    begin: \"0s\",\n    dur: \"0.8s\",\n    values: \"15;9;15\",\n    calcMode: \"linear\",\n    repeatCount: \"indefinite\"\n  }), /*#__PURE__*/React.createElement(\"animate\", {\n    attributeName: \"fill-opacity\",\n    from: 1,\n    to: 1,\n    begin: \"0s\",\n    dur: \"0.8s\",\n    values: \"1;.5;1\",\n    calcMode: \"linear\",\n    repeatCount: \"indefinite\"\n  }))));\n};\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgThreeDots, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/three-dots.7627bc82.svg\";\nexport { ForwardRef as ReactComponent };","import * as R from 'ramda'\n\nexport const isNilOrEmpty = R.anyPass([R.isNil, R.isEmpty])\n\nexport const dateToLocateTimeString = date =>\n  date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })\n","var _line, _polyline;\nvar _excluded = [\"svgRef\", \"title\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport React from \"react\";\nvar SvgArrowLeft = function SvgArrowLeft(_ref) {\n  var svgRef = _ref.svgRef,\n    title = _ref.title,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 40,\n    height: 40,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 2,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-arrow-left\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _line || (_line = /*#__PURE__*/React.createElement(\"line\", {\n    x1: 19,\n    y1: 12,\n    x2: 5,\n    y2: 12\n  })), _polyline || (_polyline = /*#__PURE__*/React.createElement(\"polyline\", {\n    points: \"12 19 5 12 12 5\"\n  })));\n};\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgArrowLeft, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/arrow-left.3b5d5b59.svg\";\nexport { ForwardRef as ReactComponent };","import { ReactComponent as Spinner } from '../../assets/icons/three-dots.svg'\n\nexport default Spinner\n","import React from 'react'\nimport Spinner from '../shared/Spinner'\n\nconst SpinnerView = () => {\n  return (\n    <div className=\"spinnerView\">\n      <Spinner />\n    </div>\n  )\n}\n\nexport default SpinnerView\n","import React from 'react'\n\nconst ErrorView = ({ error, onClickTryAgain }) => {\n  return (\n    <div className=\"errorView\">\n      <h2 className=\"errorView-title\">Error loading WhatsApp Chat</h2>\n      <p className=\"errorView-description\">{error?.message}</p>\n      <button className=\"errorView-button\" onClick={onClickTryAgain}>\n        Try again\n      </button>\n    </div>\n  )\n}\n\nexport default ErrorView\n","import React from 'react'\nimport { ReactComponent as BackArrow } from '../../assets/icons/arrow-left.svg'\n\nconst ContactSelector = ({ contacts, onSelectContact, goBack }) => {\n  return (\n    <div className=\"contactSelector\">\n      <div className=\"contactSelector-header\">\n        <BackArrow className=\"back-arrow\" onClick={goBack} />\n        <h3 className=\"text\">Select who you are.</h3>\n      </div>\n\n      <div className=\"contactSelector-contactList\">\n        {contacts.map((contact) => (\n          <button\n            className=\"contactSelector-contact\"\n            key={contact}\n            onClick={() => onSelectContact(contact)}\n          >\n            {contact}\n          </button>\n        ))}\n      </div>\n    </div>\n  )\n}\n\nexport default ContactSelector\n","import React from 'react'\nimport { ReactComponent as BackArrow } from '../../assets/icons/arrow-left.svg'\n\nconst ChatView = ({ header, goBack, chatSlot }) => {\n  return (\n    <div className=\"chatView\">\n      <div className=\"chatView-header\">\n        <BackArrow className=\"back-arrow\" onClick={goBack} />\n        <h3 className=\"header-text\">{header}</h3>\n      </div>\n\n      <div className=\"chatView-container\">{chatSlot}</div>\n    </div>\n  )\n}\n\nexport default ChatView\n","import React from 'react'\nimport { dateToLocateTimeString } from '../../app/utils'\n\nconst ChatMessage = ({ msg, msgRef, isMine, isGroup }) => {\n  const messageClassName = isMine ? 'mine' : 'others'\n\n  return (\n    <div className={`message ${messageClassName}`} ref={msgRef}>\n      {isGroup && !isMine ? <p className=\"sender\">{msg.sender}</p> : null}\n      <pre className=\"content\">{msg.message}</pre>\n      <span className=\"date\">{dateToLocateTimeString(msg.date)}</span>\n    </div>\n  )\n}\n\nexport default ChatMessage\n","import React, { useReducer, useLayoutEffect, useCallback } from 'react'\nimport * as R from 'ramda'\n\nconst referenceCreator = (acc, msg) => {\n  acc[msg.id] = React.createRef()\n  return acc\n}\n\nconst initState = ({ chat, messagesPerPage }) => {\n  const allMessages = chat.messages\n\n  const filteredMessages = R.takeLast(messagesPerPage, allMessages)\n\n  return {\n    allMessages,\n    messagesPerPage,\n    messages: filteredMessages,\n    messageRefs: filteredMessages.reduce(referenceCreator, {}),\n    hasMoreMessages: allMessages.length !== filteredMessages.length,\n    isGroupChat: chat.contacts.length > 2,\n    page: 1,\n  }\n}\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case 'loadPrevious': {\n      if (!state.hasMoreMessages) {\n        return state\n      }\n\n      const nextPage = state.page + 1\n\n      const allMessagesLength = state.allMessages.length\n      const nextMessages = state.allMessages.slice(\n        Math.max(0, allMessagesLength - nextPage * state.messagesPerPage),\n        allMessagesLength - state.page * state.messagesPerPage\n      )\n\n      const nextMessagesRefs = nextMessages.reduce(referenceCreator, {})\n\n      const messages = R.concat(nextMessages, state.messages)\n\n      return {\n        ...state,\n        page: nextPage,\n        messages,\n        messageRefs: R.mergeAll([nextMessagesRefs, state.messageRefs]),\n        hasMoreMessages: state.allMessages.length !== messages.length,\n      }\n    }\n\n    default:\n      throw new Error()\n  }\n}\n\nconst useChatState = ({ chat, messagesPerPage }) => {\n  const [state, dispatch] = useReducer(\n    reducer,\n    { chat, messagesPerPage },\n    initState\n  )\n\n  useLayoutEffect(() => {\n    const allMessageCount = state.allMessages.length\n    const latestMessageIndex = Math.max(\n      1,\n      allMessageCount - (state.page - 1) * state.messagesPerPage\n    )\n    const lastMessage = state.messageRefs[latestMessageIndex]\n\n    lastMessage.current.scrollIntoView(true)\n  }, [\n    state.allMessages.length,\n    state.messageRefs,\n    state.messagesPerPage,\n    state.page,\n  ])\n\n  const loadPrevious = useCallback((isVisible) => {\n    if (isVisible) {\n      setTimeout(() => dispatch({ type: 'loadPrevious' }), 400)\n    }\n  }, [])\n\n  return {\n    loadPrevious,\n    ...state,\n  }\n}\n\nexport default useChatState\n","import React from 'react'\nimport ChatView from '../ui/chat/ChatView'\nimport ChatMessage from '../ui/chat/ChatMessage'\nimport VisibilitySensor from 'react-visibility-sensor'\nimport { useCallback } from 'react'\nimport useChatState from './useChatState'\nimport Spinner from '../ui/shared/Spinner'\n\nconst Chat = ({ chat, selectedContact, goBack }) => {\n  const {\n    hasMoreMessages,\n    loadPrevious,\n    messages,\n    messageRefs,\n    isGroupChat,\n  } = useChatState({\n    chat: chat,\n    messagesPerPage: 100,\n  })\n\n  const renderMessage = useCallback(\n    (msg) => {\n      const isMine = msg.sender === selectedContact\n\n      return (\n        <ChatMessage\n          key={msg.id}\n          msg={msg}\n          msgRef={messageRefs[msg.id]}\n          isMine={isMine}\n          isGroup={isGroupChat}\n        />\n      )\n    },\n    [isGroupChat, messageRefs, selectedContact]\n  )\n\n  return (\n    <ChatView\n      header={chat?.header}\n      goBack={goBack}\n      chatSlot={\n        <>\n          {hasMoreMessages && (\n            <VisibilitySensor onChange={loadPrevious} delayedCall={true}>\n              <div className=\"loader\">\n                <Spinner />\n              </div>\n            </VisibilitySensor>\n          )}\n\n          {messages.map(renderMessage)}\n        </>\n      }\n    />\n  )\n}\n\nexport default Chat\n","import { useState, useEffect } from 'react'\n\nfunction getWindowDimensions() {\n  const { innerWidth: width, innerHeight: height } = window\n  return {\n    width,\n    height,\n  }\n}\n\nexport default function useWindowDimensions() {\n  const [windowDimensions, setWindowDimensions] = useState(\n    getWindowDimensions()\n  )\n\n  useEffect(() => {\n    function handleResize() {\n      setWindowDimensions(getWindowDimensions())\n    }\n\n    window.addEventListener('resize', handleResize)\n    return () => window.removeEventListener('resize', handleResize)\n  }, [])\n\n  return windowDimensions\n}\n","import React, { useState, useCallback } from 'react'\nimport Layout from '../ui/shared/Layout'\nimport AboutApp from '../ui/views/AboutApp'\nimport SelectFileView from '../ui/views/SelectFileView'\nimport useMainState from './useMainState'\nimport { isNilOrEmpty } from './utils'\nimport SpinnerView from '../ui/views/SpinnerView'\nimport ErrorView from '../ui/views/ErrorView'\nimport ContactSelector from '../ui/chat/ContactSelector'\nimport Chat from './Chat'\nimport useWindowDimensions from './useWindowDimensions'\n\nconst App = () => {\n  const [selectedFile, setSelectedFile] = useState()\n\n  const {\n    chat,\n    loading,\n    error,\n    selectedContact,\n    setSelectedContact,\n  } = useMainState(selectedFile)\n\n  const hasFile = !isNilOrEmpty(selectedFile)\n  const hasSelectedContact = !isNilOrEmpty(selectedContact)\n\n  const goBack = useCallback(() => {\n    setSelectedFile(null)\n    setSelectedContact(null)\n  }, [setSelectedContact])\n\n  const { width } = useWindowDimensions()\n\n  const isReducedView = width <= 768\n\n  return (\n    <Layout>\n      {(!hasFile || !isReducedView) && <AboutApp />}\n\n      <div className=\"chatContainer\">\n        {!hasFile ? (\n          <SelectFileView onSelectFile={setSelectedFile} />\n        ) : loading ? (\n          <SpinnerView />\n        ) : !isNilOrEmpty(error) ? (\n          <ErrorView error={error} onClickTryAgain={goBack} />\n        ) : !hasSelectedContact ? (\n          <ContactSelector\n            contacts={chat?.contacts || []}\n            onSelectContact={setSelectedContact}\n            goBack={goBack}\n          />\n        ) : (\n          <Chat chat={chat} selectedContact={selectedContact} goBack={goBack} />\n        )}\n      </div>\n\n      {/* <Main goBack={goBack} selectedFile={selectedFile} /> */}\n    </Layout>\n  )\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './styles/index.scss'\nimport App from './app/App'\nimport * as serviceWorker from './serviceWorker'\n\nReactDOM.render(<App />, document.getElementById('root'))\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}
/*! For license information please see main.bc089446.chunk.js.LICENSE.txt */
(this["webpackJsonpwhatsapp-chat-viewer"]=this["webpackJsonpwhatsapp-chat-viewer"]||[]).push([[0],{36:function(e,t,r){e.exports=r(42)},41:function(e,t,r){},42:function(e,t,r){"use strict";r.r(t);var n,a,o,c=r(0),i=r.n(c),l=r(27),s=r.n(l),u=(r(41),r(5)),f=function(e){var t=e.children;return i.a.createElement("div",{className:"layoutGrid"},t)},h=function(){return i.a.createElement("div",{className:"aboutApp"},i.a.createElement("h1",{className:"welcome-title"},"WhatsApp",i.a.createElement("br",null),"Chat viewer"),i.a.createElement("p",null,"WhatsApp chat viewer is an online tool that allows you to view your WhatsApp exported chats. The web doesn't store any user data it only formats the chat messages in a more visual way in order to help users to read exported chats."),i.a.createElement("p",null,"In order to be able to use this tool, you will need an exported WhatsApp chat. This file has the extension txt. Bellow, I will show you how you can export a WhatsApp chat."),i.a.createElement("h2",{className:"aboutApp-subheader"},"How to export a WhatsApp Chat?"),i.a.createElement("p",null,'Follow the "Export chat history" part of the tutorials bellow.'),i.a.createElement("p",null,i.a.createElement("a",{href:"https://faq.whatsapp.com/en/android/23756533/"},"For Android devices")),i.a.createElement("p",null,i.a.createElement("a",{href:"https://faq.whatsapp.com/en/iphone/26000285/?category=5245251"},"For iPhone devices")),i.a.createElement("h2",{className:"aboutApp-subheader"},"About this project."),i.a.createElement("p",null,"This is a personal project developed by"," ",i.a.createElement("a",{href:"https://github.com/MonkeyAndres"},"@MonkeyAndres"),". Is completely free and open source. You can access the source code"," ",i.a.createElement("a",{href:"https://github.com/MonkeyAndres/whatsapp-chat-viewer"},"here.")),i.a.createElement("br",null))},d=function(e){Object(c.useEffect)((function(){var t=e.current,r=function(e){e.preventDefault(),e.stopPropagation()},n=function(e){r(e),t.classList.add("is-dragover")},a=function(e){r(e),t.classList.remove("is-dragover")};return t.addEventListener("dragover",n),t.addEventListener("dragenter",n),t.addEventListener("dragleave",a),t.addEventListener("dragend",a),t.addEventListener("drop",a),function(){t.removeEventListener("dragover",n),t.removeEventListener("dragenter",n),t.removeEventListener("dragleave",a),t.removeEventListener("dragend",a),t.removeEventListener("drop",a)}}),[e])},m=function(e,t){Object(c.useEffect)((function(){var r=e.current,n=function(e){e.preventDefault(),t(e.dataTransfer.files[0])};return r.addEventListener("drop",n),function(){return r.removeEventListener("drop",n)}}),[e,t])},p=["svgRef","title"];function v(){return(v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function g(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var y=function(e){var t=e.svgRef,r=e.title,c=g(e,p);return i.a.createElement("svg",v({width:72,height:72,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-download",ref:t},c),r?i.a.createElement("title",null,r):null,n||(n=i.a.createElement("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"})),a||(a=i.a.createElement("polyline",{points:"7 10 12 15 17 10"})),o||(o=i.a.createElement("line",{x1:12,y1:15,x2:12,y2:3})))},b=i.a.forwardRef((function(e,t){return i.a.createElement(y,v({svgRef:t},e))})),E=(r.p,function(e){var t=e.onSelectFile,r=Object(c.useRef)(),n=Object(c.useRef)();return m(r,t),d(r),i.a.createElement("div",{className:"selectFile selectFile--advance",ref:r,onClick:function(){return n.current.click()}},i.a.createElement(b,{className:"selectFile-icon"}),i.a.createElement("h2",{className:"selectFile-label",htmlFor:"chat"},"Choose a file or drag it here!"),i.a.createElement("input",{type:"file",name:"chat",id:"chat",hidden:!0,ref:n,onChange:function(e){return t(e.target.files[0])}}))}),w=function(e){var t=e.onSelectFile,r=Object(c.useRef)();return i.a.createElement("div",{className:"selectFile",onClick:function(){return r.current.click()}},i.a.createElement(b,{className:"selectFile-icon"}),i.a.createElement("h2",{className:"selectFile-label",htmlFor:"chat"},"Choose a file!"),i.a.createElement("input",{type:"file",name:"chat",id:"chat",hidden:!0,ref:r,onChange:function(e){return t(e.target.files[0])}}))},O=function(){var e=document.createElement("div");return"draggable"in e||"ondragstart"in e&&"ondrop"in e}(),j=function(e){var t=e.onSelectFile;return i.a.createElement("div",{className:"selectFileView"},O?i.a.createElement(E,{onSelectFile:t}):i.a.createElement(w,{onSelectFile:t}))},x=r(30),L=r(4),k=function(e){return new Promise((function(t,r){var n=new FileReader;n.onload=function(e){t(e.target.result)},n.onerror=function(e){r(e.target.error)},n.readAsText(e)}))},N=r(34),C=r(47),P=r(35),S=r(32),M=r(33),R=r(50),F=r(43),A=r(46),T=/\[(\d{1,2}\/\d{1,2}\/\d{2,4}), (\d{2}:\d{2}:\d{2})\] ([^:]+): (([^[\]])*)/i,_=function(e,t){var r=e.split("/"),n=Object(u.a)(r,3),a=n[0],o=n[1],c=n[2],i=t.split(":"),l=Object(u.a)(i,3),s=l[0],f=l[1],h=l[2];return new Date(Date.UTC(c,o-1,a,s,f,h))},G=C.a(P.a(S.a("sender")),M.a(C.a(R.a,F.a)),A.a),B=function(e){var t=function(e){return e.match(new RegExp(T,"g")).map((function(e,t){var r=e.match(T),n=Object(u.a)(r,5),a=n[1],o=n[2],c=n[3],i=n[4];return{id:t,date:_(a,o),sender:c,message:i}}))}(e),r=Object(N.a)(t),n=r[0],a=r.slice(1),o=G(a);return{header:n.sender,messages:a,contacts:o}};function W(){W=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},c=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,c=Object.create(o.prototype),i=new P(n||[]);return a(c,"_invoke",{value:L(e,r,i)}),c}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var h="suspendedStart",d="executing",m="completed",p={};function v(){}function g(){}function y(){}var b={};s(b,c,(function(){return this}));var E=Object.getPrototypeOf,w=E&&E(E(S([])));w&&w!==r&&n.call(w,c)&&(b=w);var O=y.prototype=v.prototype=Object.create(b);function j(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(a,o,c,i){var l=f(e[a],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==typeof u&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,c,i)}),(function(e){r("throw",e,c,i)})):t.resolve(u).then((function(e){s.value=e,c(s)}),(function(e){return r("throw",e,c,i)}))}i(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=h;return function(o,c){if(a===d)throw new Error("Generator is already running");if(a===m){if("throw"===o)throw c;return{value:e,done:!0}}for(n.method=o,n.arg=c;;){var i=n.delegate;if(i){var l=k(i,n);if(l){if(l===p)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=d;var s=f(t,r,n);if("normal"===s.type){if(a=n.done?m:"suspendedYield",s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=m,n.method="throw",n.arg=s.arg)}}}function k(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,p;var c=o.arg;return c?c.done?(r[t.resultName]=c.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,p):c:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,p)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function S(t){if(t||""===t){var r=t[c];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=y,a(O,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:g,configurable:!0}),g.displayName=s(y,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,s(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},j(x.prototype),s(x.prototype,i,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var c=new x(u(e,r,n,a),o);return t.isGeneratorFunction(r)?c:c.next().then((function(e){return e.done?e.value:c.next()}))},j(O),s(O,l,"Generator"),s(O,c,(function(){return this})),s(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=S,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return i.type="throw",i.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var c=this.tryEntries[o],i=c.completion;if("root"===c.tryLoc)return a("end");if(c.tryLoc<=this.prev){var l=n.call(c,"catchLoc"),s=n.call(c,"finallyLoc");if(l&&s){if(this.prev<c.catchLoc)return a(c.catchLoc,!0);if(this.prev<c.finallyLoc)return a(c.finallyLoc)}else if(l){if(this.prev<c.catchLoc)return a(c.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return a(c.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;C(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:S(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),p}},t}var I,V,D,H={chat:null,selectedContact:null,error:null,loading:!1},Y=function(e,t){switch(t.type){case"startLoading":return Object(L.a)(Object(L.a)({},e),{},{loading:!0});case"setChat":return Object(L.a)(Object(L.a)({},e),{},{chat:t.payload,loading:!1,error:null});case"setLoadError":return Object(L.a)(Object(L.a)({},e),{},{loading:!1,error:t.payload});case"selectContact":return Object(L.a)(Object(L.a)({},e),{},{selectedContact:t.payload});default:throw new Error}},q=function(e){var t=Object(c.useReducer)(Y,H),r=Object(u.a)(t,2),n=r[0],a=r[1];Object(c.useEffect)((function(){Object(x.a)(W().mark((function t(){var r,n;return W().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e){t.next=3;break}return t.abrupt("return");case 3:return a({type:"startLoading"}),t.next=6,k(e);case 6:r=t.sent,n=B(r),a({type:"setChat",payload:n}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:"setLoadError",payload:t.t0});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))()}),[e]);var o=Object(c.useCallback)((function(e){a({type:"selectContact",payload:e})}),[]);return Object(L.a)(Object(L.a)({},n),{},{setSelectedContact:o})},z=r(48),J=r(44),U=z.a([J.a,R.a]),$=["svgRef","title"];function K(){return(K=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Q(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var X,Z,ee=function(e){var t=e.svgRef,r=e.title,n=Q(e,$);return i.a.createElement("svg",K({width:120,height:30,viewBox:"0 0 120 30",fill:"#fff",ref:t},n),r?i.a.createElement("title",null,r):null,I||(I=i.a.createElement("circle",{cx:15,cy:15,r:15},i.a.createElement("animate",{attributeName:"r",from:15,to:15,begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),i.a.createElement("animate",{attributeName:"fill-opacity",from:1,to:1,begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"}))),V||(V=i.a.createElement("circle",{cx:60,cy:15,r:9,fillOpacity:.3},i.a.createElement("animate",{attributeName:"r",from:9,to:9,begin:"0s",dur:"0.8s",values:"9;15;9",calcMode:"linear",repeatCount:"indefinite"}),i.a.createElement("animate",{attributeName:"fill-opacity",from:.5,to:.5,begin:"0s",dur:"0.8s",values:".5;1;.5",calcMode:"linear",repeatCount:"indefinite"}))),D||(D=i.a.createElement("circle",{cx:105,cy:15,r:15},i.a.createElement("animate",{attributeName:"r",from:15,to:15,begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),i.a.createElement("animate",{attributeName:"fill-opacity",from:1,to:1,begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"}))))},te=i.a.forwardRef((function(e,t){return i.a.createElement(ee,K({svgRef:t},e))})),re=(r.p,te),ne=function(){return i.a.createElement("div",{className:"spinnerView"},i.a.createElement(re,null))},ae=function(e){var t=e.error,r=e.onClickTryAgain;return i.a.createElement("div",{className:"errorView"},i.a.createElement("h2",{className:"errorView-title"},"Error loading WhatsApp Chat"),i.a.createElement("p",{className:"errorView-description"},null===t||void 0===t?void 0:t.message),i.a.createElement("button",{className:"errorView-button",onClick:r},"Try again"))},oe=["svgRef","title"];function ce(){return(ce=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ie(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var le=function(e){var t=e.svgRef,r=e.title,n=ie(e,oe);return i.a.createElement("svg",ce({width:40,height:40,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-arrow-left",ref:t},n),r?i.a.createElement("title",null,r):null,X||(X=i.a.createElement("line",{x1:19,y1:12,x2:5,y2:12})),Z||(Z=i.a.createElement("polyline",{points:"12 19 5 12 12 5"})))},se=i.a.forwardRef((function(e,t){return i.a.createElement(le,ce({svgRef:t},e))})),ue=(r.p,function(e){var t=e.contacts,r=e.onSelectContact,n=e.goBack;return i.a.createElement("div",{className:"contactSelector"},i.a.createElement("div",{className:"contactSelector-header"},i.a.createElement(se,{className:"back-arrow",onClick:n}),i.a.createElement("h3",{className:"text"},"Select who you are.")),i.a.createElement("div",{className:"contactSelector-contactList"},t.map((function(e){return i.a.createElement("button",{className:"contactSelector-contact",key:e,onClick:function(){return r(e)}},e)}))))}),fe=function(e){var t=e.header,r=e.goBack,n=e.chatSlot;return i.a.createElement("div",{className:"chatView"},i.a.createElement("div",{className:"chatView-header"},i.a.createElement(se,{className:"back-arrow",onClick:r}),i.a.createElement("h3",{className:"header-text"},t)),i.a.createElement("div",{className:"chatView-container"},n))},he=function(e){var t=e.msg,r=e.msgRef,n=e.isMine,a=e.isGroup,o=n?"mine":"others";return i.a.createElement("div",{className:"message ".concat(o),ref:r},a&&!n?i.a.createElement("p",{className:"sender"},t.sender):null,i.a.createElement("pre",{className:"content"},t.message),i.a.createElement("span",{className:"date"},t.date.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})))},de=r(31),me=r.n(de),pe=r(49),ve=r(45),ge=r(51),ye=function(e,t){return e[t.id]=i.a.createRef(),e},be=function(e){var t=e.chat,r=e.messagesPerPage,n=t.messages,a=pe.a(r,n);return{allMessages:n,messagesPerPage:r,messages:a,messageRefs:a.reduce(ye,{}),hasMoreMessages:n.length!==a.length,isGroupChat:t.contacts.length>2,page:1}},Ee=function(e,t){switch(t.type){case"loadPrevious":if(!e.hasMoreMessages)return e;var r=e.page+1,n=e.allMessages.length,a=e.allMessages.slice(Math.max(0,n-r*e.messagesPerPage),n-e.page*e.messagesPerPage),o=a.reduce(ye,{}),c=ve.a(a,e.messages);return Object(L.a)(Object(L.a)({},e),{},{page:r,messages:c,messageRefs:ge.a([o,e.messageRefs]),hasMoreMessages:e.allMessages.length!==c.length});default:throw new Error}},we=function(e){var t=e.chat,r=e.messagesPerPage,n=Object(c.useReducer)(Ee,{chat:t,messagesPerPage:r},be),a=Object(u.a)(n,2),o=a[0],i=a[1];Object(c.useLayoutEffect)((function(){var e=o.allMessages.length,t=Math.max(1,e-(o.page-1)*o.messagesPerPage);o.messageRefs[t].current.scrollIntoView(!0)}),[o.allMessages.length,o.messageRefs,o.messagesPerPage,o.page]);var l=Object(c.useCallback)((function(e){e&&setTimeout((function(){return i({type:"loadPrevious"})}),400)}),[]);return Object(L.a)({loadPrevious:l},o)},Oe=function(e){var t=e.chat,r=e.selectedContact,n=e.goBack,a=we({chat:t,messagesPerPage:100}),o=a.hasMoreMessages,l=a.loadPrevious,s=a.messages,u=a.messageRefs,f=a.isGroupChat,h=Object(c.useCallback)((function(e){var t=e.sender===r;return i.a.createElement(he,{key:e.id,msg:e,msgRef:u[e.id],isMine:t,isGroup:f})}),[f,u,r]);return i.a.createElement(fe,{header:null===t||void 0===t?void 0:t.header,goBack:n,chatSlot:i.a.createElement(i.a.Fragment,null,o&&i.a.createElement(me.a,{onChange:l,delayedCall:!0},i.a.createElement("div",{className:"loader"},i.a.createElement(re,null))),s.map(h))})};function je(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}var xe=function(){var e=Object(c.useState)(),t=Object(u.a)(e,2),r=t[0],n=t[1],a=q(r),o=a.chat,l=a.loading,s=a.error,d=a.selectedContact,m=a.setSelectedContact,p=!U(r),v=!U(d),g=Object(c.useCallback)((function(){n(null),m(null)}),[m]),y=function(){var e=Object(c.useState)(je()),t=Object(u.a)(e,2),r=t[0],n=t[1];return Object(c.useEffect)((function(){function e(){n(je())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),r}().width<=768;return i.a.createElement(f,null,(!p||!y)&&i.a.createElement(h,null),i.a.createElement("div",{className:"chatContainer"},p?l?i.a.createElement(ne,null):U(s)?v?i.a.createElement(Oe,{chat:o,selectedContact:d,goBack:g}):i.a.createElement(ue,{contacts:(null===o||void 0===o?void 0:o.contacts)||[],onSelectContact:m,goBack:g}):i.a.createElement(ae,{error:s,onClickTryAgain:g}):i.a.createElement(j,{onSelectFile:n})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(i.a.createElement(xe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[36,1,2]]]);
//# sourceMappingURL=main.bc089446.chunk.js.map
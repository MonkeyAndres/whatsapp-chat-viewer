{"version":3,"sources":["assets/icons/upload.svg","ui/shared/Layout.jsx","ui/views/AboutApp.jsx","ui/forms/useDragoverBehaviour.js","ui/forms/useDroppedFile.js","ui/forms/DropFile.jsx","ui/forms/SimpleFileInput.jsx","ui/views/SelectFileView.jsx","lib/readBrowserFileContent.js","lib/whatsapp-parser/constants.js","lib/whatsapp-parser/parser.js","lib/whatsapp-parser/index.js","app/useMainState.js","assets/icons/three-dots.svg","app/utils.js","assets/icons/arrow-left.svg","ui/shared/Spinner.jsx","ui/views/SpinnerView.jsx","ui/views/ErrorView.jsx","ui/chat/ContactSelector.jsx","ui/chat/ChatView.jsx","ui/chat/ChatMessage.jsx","app/useChatState.js","app/Chat.jsx","app/useWindowDimensions.js","app/App.jsx","serviceWorker.js","index.js"],"names":["_path","_polyline","_line","Layout","_ref","children","React","createElement","className","AboutApp","href","useDragoverBehaviour","dropFileRef","useEffect","dropFileElement","current","preventBehaviour","e","preventDefault","stopPropagation","addDragoverClass","event","classList","add","removeDragoverClass","remove","addEventListener","removeEventListener","useDroppedFile","setSelectedFile","getDroppedFile","dataTransfer","files","_excluded","_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","svgRef","title","props","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","ref","d","points","x1","y1","x2","y2","ForwardRef","forwardRef","DropFile","onSelectFile","useRef","fileInputRef","onClick","click","UploadIcon","htmlFor","type","name","id","hidden","onChange","SimpleFileInput","isAdvancedUpload","div","document","SelectFileView","readBrowserFileContent","file","Promise","resolve","reject","reader","FileReader","onload","ev","result","onerror","error","readAsText","WHATSAPP_MESSAGE_REGEXP","getDateByStrings","dateString","timeString","_dateString$split","split","_dateString$split2","_slicedToArray","day","month","year","_timeString$split","_timeString$split2","hours","minutes","seconds","Date","UTC","parseContacts","R","parseWhatsappChat","input","_parseMessages","match","RegExp","map","msg","index","_msg$match","_msg$match2","date","hour","sender","message","parseMessages","_parseMessages2","_toArray","securityMessage","messages","slice","contacts","header","_regeneratorRuntime","t","r","n","o","defineProperty","value","Symbol","a","iterator","c","asyncIterator","u","toStringTag","define","enumerable","configurable","writable","wrap","Generator","create","Context","makeInvokeMethod","tryCatch","arg","h","f","s","y","GeneratorFunction","GeneratorFunctionPrototype","p","getPrototypeOf","v","values","g","defineIteratorMethods","forEach","_invoke","AsyncIterator","invoke","__await","then","callInvokeWithMethodAndArg","Error","done","method","delegate","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","return","TypeError","resultName","next","nextLoc","pushTryEntry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","isNaN","displayName","isGeneratorFunction","constructor","mark","setPrototypeOf","__proto__","awrap","async","reverse","pop","prev","charAt","stop","rval","handle","complete","finish","catch","delegateYield","_circle","_circle2","_circle3","initialState","chat","selectedContact","loading","reducer","state","action","_objectSpread","payload","useMainState","selectedFile","_useReducer","useReducer","_useReducer2","dispatch","_asyncToGenerator","_callee","data","_context","t0","setSelectedContact","useCallback","contact","isNilOrEmpty","cx","cy","attributeName","from","to","begin","dur","calcMode","repeatCount","fillOpacity","Spinner","SpinnerView","ErrorView","onClickTryAgain","ContactSelector","onSelectContact","goBack","BackArrow","ChatView","chatSlot","ChatMessage","msgRef","isMine","isGroup","messageClassName","concat","toLocaleTimeString","minute","referenceCreator","acc","createRef","initState","messagesPerPage","allMessages","filteredMessages","messageRefs","reduce","hasMoreMessages","isGroupChat","page","nextPage","allMessagesLength","nextMessages","Math","max","nextMessagesRefs","useChatState","_ref2","useLayoutEffect","allMessageCount","latestMessageIndex","scrollIntoView","loadPrevious","isVisible","setTimeout","Chat","_useChatState","renderMessage","Fragment","VisibilitySensor","delayedCall","getWindowDimensions","_window","window","innerWidth","innerHeight","App","_useState","useState","_useState2","_useMainState","hasFile","hasSelectedContact","isReducedView","windowDimensions","setWindowDimensions","handleResize","useWindowDimensions","Boolean","location","hostname","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister","console"],"mappings":"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","file":"static/js/main.0b205b87.chunk.js","sourcesContent":["var _path, _polyline, _line;\nvar _excluded = [\"svgRef\", \"title\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport React from \"react\";\nvar SvgUpload = function SvgUpload(_ref) {\n  var svgRef = _ref.svgRef,\n    title = _ref.title,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 72,\n    height: 72,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 2,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-download\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\"\n  })), _polyline || (_polyline = /*#__PURE__*/React.createElement(\"polyline\", {\n    points: \"7 10 12 15 17 10\"\n  })), _line || (_line = /*#__PURE__*/React.createElement(\"line\", {\n    x1: 12,\n    y1: 15,\n    x2: 12,\n    y2: 3\n  })));\n};\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgUpload, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/upload.749f1ba7.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react'\n\nconst Layout = ({ children }) => {\n  return <div className=\"layoutGrid\">{children}</div>\n}\n\nexport default Layout\n","import React from 'react'\n\nconst AboutApp = () => {\n  return (\n    <div className=\"aboutApp\">\n      <h1 className=\"welcome-title\">WhatsApp Chat Viewer</h1>\n\n      <p>\n        WhatsApp chat viewer is an online tool that allows you to view your\n        WhatsApp exported chats. The web doesn't store any user data it only\n        formats the chat messages in a more visual way in order to help users to\n        read exported chats.\n      </p>\n\n      <p>\n        In order to be able to use this tool, you will need an exported WhatsApp\n        chat. This file has the extension txt. Bellow, I will show you how you\n        can export a WhatsApp chat.\n      </p>\n\n      <h2 className=\"aboutApp-subheader\">How to export a WhatsApp Chat?</h2>\n      <p>Follow the \"Export chat history\" part of the tutorials bellow.</p>\n      <p>\n        <a href=\"https://faq.whatsapp.com/en/android/23756533/\">\n          For Android devices\n        </a>\n      </p>\n      <p>\n        <a href=\"https://faq.whatsapp.com/en/iphone/26000285/?category=5245251\">\n          For iPhone devices\n        </a>\n      </p>\n\n      <h2 className=\"aboutApp-subheader\">About this project.</h2>\n      <p>\n        This is a personal project developed by{' '}\n        <a href=\"https://github.com/MonkeyAndres\">@MonkeyAndres</a>. Is\n        completely free and open source. You can access the source code{' '}\n        <a href=\"https://github.com/MonkeyAndres/whatsapp-chat-viewer\">here.</a>\n      </p>\n\n      <br />\n    </div>\n  )\n}\n\nexport default AboutApp\n","import { useEffect } from 'react'\n\nconst useDragoverBehaviour = dropFileRef => {\n  useEffect(() => {\n    const dropFileElement = dropFileRef.current\n\n    const preventBehaviour = e => {\n      e.preventDefault()\n      e.stopPropagation()\n    }\n\n    const addDragoverClass = event => {\n      preventBehaviour(event)\n      dropFileElement.classList.add('is-dragover')\n    }\n\n    const removeDragoverClass = event => {\n      preventBehaviour(event)\n      dropFileElement.classList.remove('is-dragover')\n    }\n\n    dropFileElement.addEventListener('dragover', addDragoverClass)\n    dropFileElement.addEventListener('dragenter', addDragoverClass)\n\n    dropFileElement.addEventListener('dragleave', removeDragoverClass)\n    dropFileElement.addEventListener('dragend', removeDragoverClass)\n    dropFileElement.addEventListener('drop', removeDragoverClass)\n\n    return () => {\n      dropFileElement.removeEventListener('dragover', addDragoverClass)\n      dropFileElement.removeEventListener('dragenter', addDragoverClass)\n\n      dropFileElement.removeEventListener('dragleave', removeDragoverClass)\n      dropFileElement.removeEventListener('dragend', removeDragoverClass)\n      dropFileElement.removeEventListener('drop', removeDragoverClass)\n    }\n  }, [dropFileRef])\n}\n\nexport default useDragoverBehaviour\n","import { useEffect } from 'react'\n\nconst useDroppedFile = (dropFileRef, setSelectedFile) => {\n  useEffect(() => {\n    const dropFileElement = dropFileRef.current\n\n    const getDroppedFile = event => {\n      event.preventDefault()\n      setSelectedFile(event.dataTransfer.files[0])\n    }\n\n    dropFileElement.addEventListener('drop', getDroppedFile)\n\n    return () => dropFileElement.removeEventListener('drop', getDroppedFile)\n  }, [dropFileRef, setSelectedFile])\n}\n\nexport default useDroppedFile\n","import React, { useRef } from 'react'\nimport useDragoverBehaviour from './useDragoverBehaviour'\nimport useDroppedFile from './useDroppedFile'\nimport { ReactComponent as UploadIcon } from '../../assets/icons/upload.svg'\n\nconst DropFile = ({ onSelectFile }) => {\n  const dropFileRef = useRef()\n  const fileInputRef = useRef()\n\n  useDroppedFile(dropFileRef, onSelectFile)\n  useDragoverBehaviour(dropFileRef)\n\n  return (\n    <div\n      className=\"selectFile selectFile--advance\"\n      ref={dropFileRef}\n      onClick={() => fileInputRef.current.click()}\n    >\n      <UploadIcon className=\"selectFile-icon\" />\n\n      <h2 className=\"selectFile-label\" htmlFor=\"chat\">\n        Choose a file or drag it here!\n      </h2>\n\n      <input\n        type=\"file\"\n        name=\"chat\"\n        id=\"chat\"\n        hidden\n        ref={fileInputRef}\n        onChange={(event) => onSelectFile(event.target.files[0])}\n      />\n    </div>\n  )\n}\n\nexport default DropFile\n","import React, { useRef } from 'react'\nimport { ReactComponent as UploadIcon } from '../../assets/icons/upload.svg'\n\nconst SimpleFileInput = ({ onSelectFile }) => {\n  const fileInputRef = useRef()\n\n  return (\n    <div className=\"selectFile\" onClick={() => fileInputRef.current.click()}>\n      <UploadIcon className=\"selectFile-icon\" />\n\n      <h2 className=\"selectFile-label\" htmlFor=\"chat\">\n        Choose a file!\n      </h2>\n\n      <input\n        type=\"file\"\n        name=\"chat\"\n        id=\"chat\"\n        hidden\n        ref={fileInputRef}\n        onChange={(event) => onSelectFile(event.target.files[0])}\n      />\n    </div>\n  )\n}\n\nexport default SimpleFileInput\n","import React from 'react'\nimport DropFile from '../forms/DropFile'\nimport SimpleFileInput from '../forms/SimpleFileInput'\n\n// Read more: https://css-tricks.com/drag-and-drop-file-uploading/\nconst isAdvancedUpload = (function () {\n  var div = document.createElement('div')\n  return 'draggable' in div || ('ondragstart' in div && 'ondrop' in div)\n})()\n\nconst SelectFileView = ({ onSelectFile }) => {\n  return (\n    <div className=\"selectFileView\">\n      {isAdvancedUpload ? (\n        <DropFile onSelectFile={onSelectFile} />\n      ) : (\n        <SimpleFileInput onSelectFile={onSelectFile} />\n      )}\n    </div>\n  )\n}\n\nexport default SelectFileView\n","const readBrowserFileContent = file => {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader()\n\n    reader.onload = ev => {\n      resolve(ev.target.result)\n    }\n\n    reader.onerror = ev => {\n      reject(ev.target.error)\n    }\n\n    reader.readAsText(file)\n  })\n}\n\nexport default readBrowserFileContent\n","export const DATE_SEPARATOR = '/'\nexport const TIME_SEPARATOR = ':'\n\nexport const SECURITY_MESSAGE_REGEXP = /are now secured with end-to-end encryption./\n\nexport const WHATSAPP_MESSAGE_REGEXP = /\\[(\\d{1,2}\\/\\d{1,2}\\/\\d{2,4}), (\\d{2}:\\d{2}:\\d{2})\\] ([^:]+): (([^[\\]])*)/i\n","import * as R from 'ramda'\nimport {\n  DATE_SEPARATOR,\n  TIME_SEPARATOR,\n  // SECURITY_MESSAGE_REGEXP,\n  WHATSAPP_MESSAGE_REGEXP\n} from './constants'\n\nconst getDateByStrings = (dateString, timeString) => {\n  const [day, month, year] = dateString.split(DATE_SEPARATOR)\n  const [hours, minutes, seconds] = timeString.split(TIME_SEPARATOR)\n\n  // The month must be between 0 and 11\n  const date = new Date(Date.UTC(year, month - 1, day, hours, minutes, seconds))\n  return date\n}\n\n// const checkIsValidInput = R.pipe(\n//   R.split('\\n'),\n//   R.nth(0),\n//   R.match(SECURITY_MESSAGE_REGEXP),\n//   R.complement(R.isEmpty)\n// )\n\nexport const parseMessages = input => {\n  /** HOTFIX! Comment security message check.\n  const isValidChat = checkIsValidInput(input)\n\n  if (!isValidChat) {\n    throw new Error('We cannot read whatsapp chat')\n  }\n  */\n\n  const messages = input.match(new RegExp(WHATSAPP_MESSAGE_REGEXP, 'g'))\n\n  const parsedMessages = messages.map((msg, index) => {\n    const [, date, hour, sender, message] = msg.match(WHATSAPP_MESSAGE_REGEXP)\n    return { id: index, date: getDateByStrings(date, hour), sender, message }\n  })\n\n  return parsedMessages\n}\n\nexport const parseContacts = R.pipe(\n  R.map(R.prop('sender')),\n  R.filter(R.pipe(R.isEmpty, R.not)),\n  R.uniq\n)\n","import { parseMessages, parseContacts } from './parser'\n\nconst parseWhatsappChat = input => {\n  const [securityMessage, ...messages] = parseMessages(input)\n  const contacts = parseContacts(messages)\n\n  const { sender: header } = securityMessage\n\n  return { header, messages, contacts }\n}\n\nexport default parseWhatsappChat\n","import { useEffect, useReducer, useCallback } from 'react'\nimport readBrowserFileContent from '../lib/readBrowserFileContent'\nimport parseWhatsappChat from '../lib/whatsapp-parser'\n\nconst initialState = {\n  chat: null,\n  selectedContact: null,\n  error: null,\n  loading: false,\n}\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case 'startLoading': {\n      return { ...state, loading: true }\n    }\n\n    case 'setChat': {\n      return {\n        ...state,\n        chat: action.payload,\n        loading: false,\n        error: null,\n      }\n    }\n\n    case 'setLoadError': {\n      return {\n        ...state,\n        loading: false,\n        error: action.payload,\n      }\n    }\n\n    case 'selectContact': {\n      return {\n        ...state,\n        selectedContact: action.payload,\n      }\n    }\n\n    default: {\n      throw new Error()\n    }\n  }\n}\n\nconst useMainState = (selectedFile) => {\n  const [state, dispatch] = useReducer(reducer, initialState)\n\n  useEffect(() => {\n    ;(async function () {\n      try {\n        if (!selectedFile) return\n\n        dispatch({ type: 'startLoading' })\n\n        const data = await readBrowserFileContent(selectedFile)\n        const chat = parseWhatsappChat(data)\n\n        dispatch({ type: 'setChat', payload: chat })\n      } catch (error) {\n        dispatch({ type: 'setLoadError', payload: error })\n      }\n    })()\n  }, [selectedFile])\n\n  const setSelectedContact = useCallback((contact) => {\n    dispatch({ type: 'selectContact', payload: contact })\n  }, [])\n\n  return { ...state, setSelectedContact }\n}\n\nexport default useMainState\n","var _circle, _circle2, _circle3;\nvar _excluded = [\"svgRef\", \"title\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport React from \"react\";\nvar SvgThreeDots = function SvgThreeDots(_ref) {\n  var svgRef = _ref.svgRef,\n    title = _ref.title,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 120,\n    height: 30,\n    viewBox: \"0 0 120 30\",\n    fill: \"#fff\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _circle || (_circle = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 15,\n    cy: 15,\n    r: 15\n  }, /*#__PURE__*/React.createElement(\"animate\", {\n    attributeName: \"r\",\n    from: 15,\n    to: 15,\n    begin: \"0s\",\n    dur: \"0.8s\",\n    values: \"15;9;15\",\n    calcMode: \"linear\",\n    repeatCount: \"indefinite\"\n  }), /*#__PURE__*/React.createElement(\"animate\", {\n    attributeName: \"fill-opacity\",\n    from: 1,\n    to: 1,\n    begin: \"0s\",\n    dur: \"0.8s\",\n    values: \"1;.5;1\",\n    calcMode: \"linear\",\n    repeatCount: \"indefinite\"\n  }))), _circle2 || (_circle2 = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 60,\n    cy: 15,\n    r: 9,\n    fillOpacity: 0.3\n  }, /*#__PURE__*/React.createElement(\"animate\", {\n    attributeName: \"r\",\n    from: 9,\n    to: 9,\n    begin: \"0s\",\n    dur: \"0.8s\",\n    values: \"9;15;9\",\n    calcMode: \"linear\",\n    repeatCount: \"indefinite\"\n  }), /*#__PURE__*/React.createElement(\"animate\", {\n    attributeName: \"fill-opacity\",\n    from: 0.5,\n    to: 0.5,\n    begin: \"0s\",\n    dur: \"0.8s\",\n    values: \".5;1;.5\",\n    calcMode: \"linear\",\n    repeatCount: \"indefinite\"\n  }))), _circle3 || (_circle3 = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 105,\n    cy: 15,\n    r: 15\n  }, /*#__PURE__*/React.createElement(\"animate\", {\n    attributeName: \"r\",\n    from: 15,\n    to: 15,\n    begin: \"0s\",\n    dur: \"0.8s\",\n    values: \"15;9;15\",\n    calcMode: \"linear\",\n    repeatCount: \"indefinite\"\n  }), /*#__PURE__*/React.createElement(\"animate\", {\n    attributeName: \"fill-opacity\",\n    from: 1,\n    to: 1,\n    begin: \"0s\",\n    dur: \"0.8s\",\n    values: \"1;.5;1\",\n    calcMode: \"linear\",\n    repeatCount: \"indefinite\"\n  }))));\n};\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgThreeDots, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/three-dots.7627bc82.svg\";\nexport { ForwardRef as ReactComponent };","import * as R from 'ramda'\n\nexport const isNilOrEmpty = R.anyPass([R.isNil, R.isEmpty])\n\nexport const dateToLocateTimeString = date =>\n  date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })\n","var _line, _polyline;\nvar _excluded = [\"svgRef\", \"title\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport React from \"react\";\nvar SvgArrowLeft = function SvgArrowLeft(_ref) {\n  var svgRef = _ref.svgRef,\n    title = _ref.title,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 40,\n    height: 40,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 2,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-arrow-left\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _line || (_line = /*#__PURE__*/React.createElement(\"line\", {\n    x1: 19,\n    y1: 12,\n    x2: 5,\n    y2: 12\n  })), _polyline || (_polyline = /*#__PURE__*/React.createElement(\"polyline\", {\n    points: \"12 19 5 12 12 5\"\n  })));\n};\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgArrowLeft, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/arrow-left.3b5d5b59.svg\";\nexport { ForwardRef as ReactComponent };","import { ReactComponent as Spinner } from '../../assets/icons/three-dots.svg'\n\nexport default Spinner\n","import React from 'react'\nimport Spinner from '../shared/Spinner'\n\nconst SpinnerView = () => {\n  return (\n    <div className=\"spinnerView\">\n      <Spinner />\n    </div>\n  )\n}\n\nexport default SpinnerView\n","import React from 'react'\n\nconst ErrorView = ({ error, onClickTryAgain }) => {\n  return (\n    <div className=\"errorView\">\n      <h2 className=\"errorView-title\">Error loading WhatsApp Chat</h2>\n      <p className=\"errorView-description\">{error?.message}</p>\n      <button className=\"errorView-button\" onClick={onClickTryAgain}>\n        Try again\n      </button>\n    </div>\n  )\n}\n\nexport default ErrorView\n","import React from 'react'\nimport { ReactComponent as BackArrow } from '../../assets/icons/arrow-left.svg'\n\nconst ContactSelector = ({ contacts, onSelectContact, goBack }) => {\n  return (\n    <div className=\"contactSelector\">\n      <div className=\"contactSelector-header\">\n        <BackArrow className=\"back-arrow\" onClick={goBack} />\n        <h3 className=\"text\">Select who you are.</h3>\n      </div>\n\n      <div className=\"contactSelector-contactList\">\n        {contacts.map((contact) => (\n          <button\n            className=\"contactSelector-contact\"\n            key={contact}\n            onClick={() => onSelectContact(contact)}\n          >\n            {contact}\n          </button>\n        ))}\n      </div>\n    </div>\n  )\n}\n\nexport default ContactSelector\n","import React from 'react'\nimport { ReactComponent as BackArrow } from '../../assets/icons/arrow-left.svg'\n\nconst ChatView = ({ header, goBack, chatSlot }) => {\n  return (\n    <div className=\"chatView\">\n      <div className=\"chatView-header\">\n        <BackArrow className=\"back-arrow\" onClick={goBack} />\n        <h3 className=\"header-text\">{header}</h3>\n      </div>\n\n      <div className=\"chatView-container\">{chatSlot}</div>\n    </div>\n  )\n}\n\nexport default ChatView\n","import React from 'react'\nimport { dateToLocateTimeString } from '../../app/utils'\n\nconst ChatMessage = ({ msg, msgRef, isMine, isGroup }) => {\n  const messageClassName = isMine ? 'mine' : 'others'\n\n  return (\n    <div className={`message ${messageClassName}`} ref={msgRef}>\n      {isGroup && !isMine ? <p className=\"sender\">{msg.sender}</p> : null}\n      <pre className=\"content\">{msg.message}</pre>\n      <span className=\"date\">{dateToLocateTimeString(msg.date)}</span>\n    </div>\n  )\n}\n\nexport default ChatMessage\n","import React, { useReducer, useLayoutEffect, useCallback } from 'react'\nimport * as R from 'ramda'\n\nconst referenceCreator = (acc, msg) => {\n  acc[msg.id] = React.createRef()\n  return acc\n}\n\nconst initState = ({ chat, messagesPerPage }) => {\n  const allMessages = chat.messages\n\n  const filteredMessages = R.takeLast(messagesPerPage, allMessages)\n\n  return {\n    allMessages,\n    messagesPerPage,\n    messages: filteredMessages,\n    messageRefs: filteredMessages.reduce(referenceCreator, {}),\n    hasMoreMessages: allMessages.length !== filteredMessages.length,\n    isGroupChat: chat.contacts.length > 2,\n    page: 1,\n  }\n}\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case 'loadPrevious': {\n      if (!state.hasMoreMessages) {\n        return state\n      }\n\n      const nextPage = state.page + 1\n\n      const allMessagesLength = state.allMessages.length\n      const nextMessages = state.allMessages.slice(\n        Math.max(0, allMessagesLength - nextPage * state.messagesPerPage),\n        allMessagesLength - state.page * state.messagesPerPage\n      )\n\n      const nextMessagesRefs = nextMessages.reduce(referenceCreator, {})\n\n      const messages = R.concat(nextMessages, state.messages)\n\n      return {\n        ...state,\n        page: nextPage,\n        messages,\n        messageRefs: R.mergeAll([nextMessagesRefs, state.messageRefs]),\n        hasMoreMessages: state.allMessages.length !== messages.length,\n      }\n    }\n\n    default:\n      throw new Error()\n  }\n}\n\nconst useChatState = ({ chat, messagesPerPage }) => {\n  const [state, dispatch] = useReducer(\n    reducer,\n    { chat, messagesPerPage },\n    initState\n  )\n\n  useLayoutEffect(() => {\n    const allMessageCount = state.allMessages.length\n    const latestMessageIndex = Math.max(\n      1,\n      allMessageCount - (state.page - 1) * state.messagesPerPage\n    )\n    const lastMessage = state.messageRefs[latestMessageIndex]\n\n    lastMessage.current.scrollIntoView(true)\n  }, [\n    state.allMessages.length,\n    state.messageRefs,\n    state.messagesPerPage,\n    state.page,\n  ])\n\n  const loadPrevious = useCallback((isVisible) => {\n    if (isVisible) {\n      setTimeout(() => dispatch({ type: 'loadPrevious' }), 400)\n    }\n  }, [])\n\n  return {\n    loadPrevious,\n    ...state,\n  }\n}\n\nexport default useChatState\n","import React from 'react'\nimport ChatView from '../ui/chat/ChatView'\nimport ChatMessage from '../ui/chat/ChatMessage'\nimport VisibilitySensor from 'react-visibility-sensor'\nimport { useCallback } from 'react'\nimport useChatState from './useChatState'\nimport Spinner from '../ui/shared/Spinner'\n\nconst Chat = ({ chat, selectedContact, goBack }) => {\n  const {\n    hasMoreMessages,\n    loadPrevious,\n    messages,\n    messageRefs,\n    isGroupChat,\n  } = useChatState({\n    chat: chat,\n    messagesPerPage: 100,\n  })\n\n  const renderMessage = useCallback(\n    (msg) => {\n      const isMine = msg.sender === selectedContact\n\n      return (\n        <ChatMessage\n          key={msg.id}\n          msg={msg}\n          msgRef={messageRefs[msg.id]}\n          isMine={isMine}\n          isGroup={isGroupChat}\n        />\n      )\n    },\n    [isGroupChat, messageRefs, selectedContact]\n  )\n\n  return (\n    <ChatView\n      header={chat?.header}\n      goBack={goBack}\n      chatSlot={\n        <>\n          {hasMoreMessages && (\n            <VisibilitySensor onChange={loadPrevious} delayedCall={true}>\n              <div className=\"loader\">\n                <Spinner />\n              </div>\n            </VisibilitySensor>\n          )}\n\n          {messages.map(renderMessage)}\n        </>\n      }\n    />\n  )\n}\n\nexport default Chat\n","import { useState, useEffect } from 'react'\n\nfunction getWindowDimensions() {\n  const { innerWidth: width, innerHeight: height } = window\n  return {\n    width,\n    height,\n  }\n}\n\nexport default function useWindowDimensions() {\n  const [windowDimensions, setWindowDimensions] = useState(\n    getWindowDimensions()\n  )\n\n  useEffect(() => {\n    function handleResize() {\n      setWindowDimensions(getWindowDimensions())\n    }\n\n    window.addEventListener('resize', handleResize)\n    return () => window.removeEventListener('resize', handleResize)\n  }, [])\n\n  return windowDimensions\n}\n","import React, { useState, useCallback } from 'react'\nimport Layout from '../ui/shared/Layout'\nimport AboutApp from '../ui/views/AboutApp'\nimport SelectFileView from '../ui/views/SelectFileView'\nimport useMainState from './useMainState'\nimport { isNilOrEmpty } from './utils'\nimport SpinnerView from '../ui/views/SpinnerView'\nimport ErrorView from '../ui/views/ErrorView'\nimport ContactSelector from '../ui/chat/ContactSelector'\nimport Chat from './Chat'\nimport useWindowDimensions from './useWindowDimensions'\n\nconst App = () => {\n  const [selectedFile, setSelectedFile] = useState()\n\n  const {\n    chat,\n    loading,\n    error,\n    selectedContact,\n    setSelectedContact,\n  } = useMainState(selectedFile)\n\n  const hasFile = !isNilOrEmpty(selectedFile)\n  const hasSelectedContact = !isNilOrEmpty(selectedContact)\n\n  const goBack = useCallback(() => {\n    setSelectedFile(null)\n    setSelectedContact(null)\n  }, [setSelectedContact])\n\n  const { width } = useWindowDimensions()\n\n  const isReducedView = width <= 768\n\n  return (\n    <Layout>\n      {(!hasFile || !isReducedView) && <AboutApp />}\n\n      <div className=\"chatContainer\">\n        {!hasFile ? (\n          <SelectFileView onSelectFile={setSelectedFile} />\n        ) : loading ? (\n          <SpinnerView />\n        ) : !isNilOrEmpty(error) ? (\n          <ErrorView error={error} onClickTryAgain={goBack} />\n        ) : !hasSelectedContact ? (\n          <ContactSelector\n            contacts={chat?.contacts || []}\n            onSelectContact={setSelectedContact}\n            goBack={goBack}\n          />\n        ) : (\n          <Chat chat={chat} selectedContact={selectedContact} goBack={goBack} />\n        )}\n      </div>\n\n      {/* <Main goBack={goBack} selectedFile={selectedFile} /> */}\n    </Layout>\n  )\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './styles/index.scss'\nimport App from './app/App'\nimport * as serviceWorker from './serviceWorker'\n\nReactDOM.render(<App />, document.getElementById('root'))\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}
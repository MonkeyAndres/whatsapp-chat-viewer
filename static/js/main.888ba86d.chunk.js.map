{"version":3,"sources":["ui/shared/Layout.jsx","ui/views/AboutApp.jsx","ui/forms/useDragoverBehaviour.js","ui/forms/useDroppedFile.js","assets/icons/upload.svg","ui/forms/DropFile.jsx","ui/forms/SimpleFileInput.jsx","ui/views/SelectFileView.jsx","lib/readBrowserFileContent.js","lib/whatsapp-parser/constants.js","lib/whatsapp-parser/parser.js","lib/whatsapp-parser/index.js","app/useMainState.js","app/utils.js","assets/icons/three-dots.svg","ui/shared/Spinner.jsx","ui/views/SpinnerView.jsx","ui/views/ErrorView.jsx","assets/icons/arrow-left.svg","ui/chat/ContactSelector.jsx","ui/chat/ChatView.jsx","ui/chat/ChatMessage.jsx","app/useChatState.js","app/Chat.jsx","app/useWindowDimensions.js","app/App.jsx","serviceWorker.js","index.js"],"names":["Layout","children","className","AboutApp","href","useDragoverBehaviour","dropFileRef","useEffect","dropFileElement","current","preventBehaviour","e","preventDefault","stopPropagation","addDragoverClass","event","classList","add","removeDragoverClass","remove","addEventListener","removeEventListener","useDroppedFile","setSelectedFile","getDroppedFile","dataTransfer","files","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","createElement","d","_ref3","points","_ref4","x1","y1","x2","y2","_ref","svgRef","title","props","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","ref","ForwardRef","forwardRef","DropFile","onSelectFile","useRef","fileInputRef","onClick","click","htmlFor","type","name","id","hidden","onChange","SimpleFileInput","isAdvancedUpload","div","document","SelectFileView","readBrowserFileContent","file","Promise","resolve","reject","reader","FileReader","onload","ev","result","onerror","error","readAsText","WHATSAPP_MESSAGE_REGEXP","getDateByStrings","dateString","timeString","split","day","month","year","hours","minutes","seconds","Date","UTC","checkIsValidInput","R","parseContacts","parseWhatsappChat","input","Error","match","RegExp","map","msg","index","date","hour","sender","message","parseMessages","securityMessage","messages","contacts","header","initialState","chat","selectedContact","loading","reducer","state","action","payload","useMainState","selectedFile","useReducer","dispatch","a","data","setSelectedContact","useCallback","contact","isNilOrEmpty","cx","cy","r","attributeName","from","to","begin","dur","values","calcMode","repeatCount","fillOpacity","Spinner","SpinnerView","ErrorView","onClickTryAgain","ContactSelector","onSelectContact","goBack","ChatView","chatSlot","ChatMessage","msgRef","isMine","isGroup","messageClassName","toLocaleTimeString","minute","referenceCreator","acc","React","createRef","initState","messagesPerPage","allMessages","filteredMessages","messageRefs","reduce","hasMoreMessages","isGroupChat","page","nextPage","allMessagesLength","nextMessages","slice","Math","max","nextMessagesRefs","useChatState","useLayoutEffect","allMessageCount","latestMessageIndex","scrollIntoView","loadPrevious","isVisible","setTimeout","Chat","renderMessage","delayedCall","getWindowDimensions","window","innerWidth","innerHeight","App","useState","hasFile","hasSelectedContact","isReducedView","windowDimensions","setWindowDimensions","handleResize","useWindowDimensions","Boolean","location","hostname","ReactDOM","render","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","console"],"mappings":"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","file":"static/js/main.888ba86d.chunk.js","sourcesContent":["import React from 'react'\n\nconst Layout = ({ children }) => {\n  return <div className=\"layoutGrid\">{children}</div>\n}\n\nexport default Layout\n","import React from 'react'\n\nconst AboutApp = () => {\n  return (\n    <div className=\"aboutApp\">\n      <h1 className=\"welcome-title\">WhatsApp Chat Viewer</h1>\n\n      <p>\n        WhatsApp chat viewer is an online tool that allows you to view your\n        WhatsApp exported chats. The web doesn't store any user data it only\n        formats the chat messages in a more visual way in order to help users to\n        read exported chats.\n      </p>\n\n      <p>\n        In order to be able to use this tool, you will need an exported WhatsApp\n        chat. This file has the extension txt. Bellow, I will show you how you\n        can export a WhatsApp chat.\n      </p>\n\n      <h2 className=\"aboutApp-subheader\">How to export a WhatsApp Chat?</h2>\n      <p>Follow the \"Export chat history\" part of the tutorials bellow.</p>\n      <p>\n        <a href=\"https://faq.whatsapp.com/en/android/23756533/\">\n          For Android devices\n        </a>\n      </p>\n      <p>\n        <a href=\"https://faq.whatsapp.com/en/iphone/26000285/?category=5245251\">\n          For iPhone devices\n        </a>\n      </p>\n\n      <h2 className=\"aboutApp-subheader\">About this project.</h2>\n      <p>\n        This is a personal project developed by{' '}\n        <a href=\"https://github.com/MonkeyAndres\">@MonkeyAndres</a>. Is\n        completely free and open source. You can access the source code{' '}\n        <a href=\"https://github.com/MonkeyAndres/whatsapp-chat-viewer\">here.</a>\n      </p>\n\n      <br />\n    </div>\n  )\n}\n\nexport default AboutApp\n","import { useEffect } from 'react'\n\nconst useDragoverBehaviour = dropFileRef => {\n  useEffect(() => {\n    const dropFileElement = dropFileRef.current\n\n    const preventBehaviour = e => {\n      e.preventDefault()\n      e.stopPropagation()\n    }\n\n    const addDragoverClass = event => {\n      preventBehaviour(event)\n      dropFileElement.classList.add('is-dragover')\n    }\n\n    const removeDragoverClass = event => {\n      preventBehaviour(event)\n      dropFileElement.classList.remove('is-dragover')\n    }\n\n    dropFileElement.addEventListener('dragover', addDragoverClass)\n    dropFileElement.addEventListener('dragenter', addDragoverClass)\n\n    dropFileElement.addEventListener('dragleave', removeDragoverClass)\n    dropFileElement.addEventListener('dragend', removeDragoverClass)\n    dropFileElement.addEventListener('drop', removeDragoverClass)\n\n    return () => {\n      dropFileElement.removeEventListener('dragover', addDragoverClass)\n      dropFileElement.removeEventListener('dragenter', addDragoverClass)\n\n      dropFileElement.removeEventListener('dragleave', removeDragoverClass)\n      dropFileElement.removeEventListener('dragend', removeDragoverClass)\n      dropFileElement.removeEventListener('drop', removeDragoverClass)\n    }\n  }, [dropFileRef])\n}\n\nexport default useDragoverBehaviour\n","import { useEffect } from 'react'\n\nconst useDroppedFile = (dropFileRef, setSelectedFile) => {\n  useEffect(() => {\n    const dropFileElement = dropFileRef.current\n\n    const getDroppedFile = event => {\n      event.preventDefault()\n      setSelectedFile(event.dataTransfer.files[0])\n    }\n\n    dropFileElement.addEventListener('drop', getDroppedFile)\n\n    return () => dropFileElement.removeEventListener('drop', getDroppedFile)\n  }, [dropFileRef, setSelectedFile])\n}\n\nexport default useDroppedFile\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\"\n});\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"polyline\", {\n  points: \"7 10 12 15 17 10\"\n});\n\nvar _ref4 =\n/*#__PURE__*/\nReact.createElement(\"line\", {\n  x1: 12,\n  y1: 15,\n  x2: 12,\n  y2: 3\n});\n\nvar SvgUpload = function SvgUpload(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 72,\n    height: 72,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 2,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-download\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgUpload, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/upload.749f1ba7.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useRef } from 'react'\nimport useDragoverBehaviour from './useDragoverBehaviour'\nimport useDroppedFile from './useDroppedFile'\nimport { ReactComponent as UploadIcon } from '../../assets/icons/upload.svg'\n\nconst DropFile = ({ onSelectFile }) => {\n  const dropFileRef = useRef()\n  const fileInputRef = useRef()\n\n  useDroppedFile(dropFileRef, onSelectFile)\n  useDragoverBehaviour(dropFileRef)\n\n  return (\n    <div\n      className=\"selectFile selectFile--advance\"\n      ref={dropFileRef}\n      onClick={() => fileInputRef.current.click()}\n    >\n      <UploadIcon className=\"selectFile-icon\" />\n\n      <h2 className=\"selectFile-label\" htmlFor=\"chat\">\n        Choose a file or drag it here!\n      </h2>\n\n      <input\n        type=\"file\"\n        name=\"chat\"\n        id=\"chat\"\n        hidden\n        ref={fileInputRef}\n        onChange={(event) => onSelectFile(event.target.files[0])}\n      />\n    </div>\n  )\n}\n\nexport default DropFile\n","import React, { useRef } from 'react'\nimport { ReactComponent as UploadIcon } from '../../assets/icons/upload.svg'\n\nconst SimpleFileInput = ({ onSelectFile }) => {\n  const fileInputRef = useRef()\n\n  return (\n    <div className=\"selectFile\" onClick={() => fileInputRef.current.click()}>\n      <UploadIcon className=\"selectFile-icon\" />\n\n      <h2 className=\"selectFile-label\" htmlFor=\"chat\">\n        Choose a file!\n      </h2>\n\n      <input\n        type=\"file\"\n        name=\"chat\"\n        id=\"chat\"\n        hidden\n        ref={fileInputRef}\n        onChange={(event) => onSelectFile(event.target.files[0])}\n      />\n    </div>\n  )\n}\n\nexport default SimpleFileInput\n","import React from 'react'\nimport DropFile from '../forms/DropFile'\nimport SimpleFileInput from '../forms/SimpleFileInput'\n\n// Read more: https://css-tricks.com/drag-and-drop-file-uploading/\nconst isAdvancedUpload = (function () {\n  var div = document.createElement('div')\n  return 'draggable' in div || ('ondragstart' in div && 'ondrop' in div)\n})()\n\nconst SelectFileView = ({ onSelectFile }) => {\n  return (\n    <div className=\"selectFileView\">\n      {isAdvancedUpload ? (\n        <DropFile onSelectFile={onSelectFile} />\n      ) : (\n        <SimpleFileInput onSelectFile={onSelectFile} />\n      )}\n    </div>\n  )\n}\n\nexport default SelectFileView\n","const readBrowserFileContent = file => {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader()\n\n    reader.onload = ev => {\n      resolve(ev.target.result)\n    }\n\n    reader.onerror = ev => {\n      reject(ev.target.error)\n    }\n\n    reader.readAsText(file)\n  })\n}\n\nexport default readBrowserFileContent\n","export const DATE_SEPARATOR = '/'\nexport const TIME_SEPARATOR = ':'\n\nexport const SECURITY_MESSAGE_REGEXP = /are now secured with end-to-end encryption./\n\nexport const WHATSAPP_MESSAGE_REGEXP = /\\[(\\d{2}\\/\\d{2}\\/\\d{4}), (\\d{2}:\\d{2}:\\d{2})\\] ([^:]+): (([^[\\]])*)/i\n","import * as R from 'ramda'\nimport {\n  DATE_SEPARATOR,\n  TIME_SEPARATOR,\n  SECURITY_MESSAGE_REGEXP,\n  WHATSAPP_MESSAGE_REGEXP\n} from './constants'\n\nconst getDateByStrings = (dateString, timeString) => {\n  const [day, month, year] = dateString.split(DATE_SEPARATOR)\n  const [hours, minutes, seconds] = timeString.split(TIME_SEPARATOR)\n\n  // The month must be between 0 and 11\n  const date = new Date(Date.UTC(year, month - 1, day, hours, minutes, seconds))\n  return date\n}\n\nconst checkIsValidInput = R.pipe(\n  R.split('\\n'),\n  R.nth(0),\n  R.match(SECURITY_MESSAGE_REGEXP),\n  R.complement(R.isEmpty)\n)\n\nexport const parseMessages = input => {\n  const isValidChat = checkIsValidInput(input)\n\n  if (!isValidChat) {\n    throw new Error('We cannot read whatsapp chat')\n  }\n\n  const messages = input.match(new RegExp(WHATSAPP_MESSAGE_REGEXP, 'g'))\n\n  const parsedMessages = messages.map((msg, index) => {\n    const [, date, hour, sender, message] = msg.match(WHATSAPP_MESSAGE_REGEXP)\n    return { id: index, date: getDateByStrings(date, hour), sender, message }\n  })\n\n  return parsedMessages\n}\n\nexport const parseContacts = R.pipe(\n  R.map(R.prop('sender')),\n  R.filter(R.pipe(R.isEmpty, R.not)),\n  R.uniq\n)\n","import { parseMessages, parseContacts } from './parser'\n\nconst parseWhatsappChat = input => {\n  const [securityMessage, ...messages] = parseMessages(input)\n  const contacts = parseContacts(messages)\n\n  const { sender: header } = securityMessage\n\n  return { header, messages, contacts }\n}\n\nexport default parseWhatsappChat\n","import { useEffect, useReducer, useCallback } from 'react'\nimport readBrowserFileContent from '../lib/readBrowserFileContent'\nimport parseWhatsappChat from '../lib/whatsapp-parser'\n\nconst initialState = {\n  chat: null,\n  selectedContact: null,\n  error: null,\n  loading: false,\n}\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case 'startLoading': {\n      return { ...state, loading: true }\n    }\n\n    case 'setChat': {\n      return {\n        ...state,\n        chat: action.payload,\n        loading: false,\n        error: null,\n      }\n    }\n\n    case 'setLoadError': {\n      return {\n        ...state,\n        loading: false,\n        error: action.payload,\n      }\n    }\n\n    case 'selectContact': {\n      return {\n        ...state,\n        selectedContact: action.payload,\n      }\n    }\n\n    default: {\n      throw new Error()\n    }\n  }\n}\n\nconst useMainState = (selectedFile) => {\n  const [state, dispatch] = useReducer(reducer, initialState)\n\n  useEffect(() => {\n    ;(async function () {\n      try {\n        if (!selectedFile) return\n\n        dispatch({ type: 'startLoading' })\n\n        const data = await readBrowserFileContent(selectedFile)\n        const chat = parseWhatsappChat(data)\n\n        dispatch({ type: 'setChat', payload: chat })\n      } catch (error) {\n        dispatch({ type: 'setLoadError', payload: error })\n      }\n    })()\n  }, [selectedFile])\n\n  const setSelectedContact = useCallback((contact) => {\n    dispatch({ type: 'selectContact', payload: contact })\n  }, [])\n\n  return { ...state, setSelectedContact }\n}\n\nexport default useMainState\n","import * as R from 'ramda'\n\nexport const isNilOrEmpty = R.anyPass([R.isNil, R.isEmpty])\n\nexport const dateToLocateTimeString = date =>\n  date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"circle\", {\n  cx: 15,\n  cy: 15,\n  r: 15\n}, React.createElement(\"animate\", {\n  attributeName: \"r\",\n  from: 15,\n  to: 15,\n  begin: \"0s\",\n  dur: \"0.8s\",\n  values: \"15;9;15\",\n  calcMode: \"linear\",\n  repeatCount: \"indefinite\"\n}), React.createElement(\"animate\", {\n  attributeName: \"fill-opacity\",\n  from: 1,\n  to: 1,\n  begin: \"0s\",\n  dur: \"0.8s\",\n  values: \"1;.5;1\",\n  calcMode: \"linear\",\n  repeatCount: \"indefinite\"\n}));\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"circle\", {\n  cx: 60,\n  cy: 15,\n  r: 9,\n  fillOpacity: 0.3\n}, React.createElement(\"animate\", {\n  attributeName: \"r\",\n  from: 9,\n  to: 9,\n  begin: \"0s\",\n  dur: \"0.8s\",\n  values: \"9;15;9\",\n  calcMode: \"linear\",\n  repeatCount: \"indefinite\"\n}), React.createElement(\"animate\", {\n  attributeName: \"fill-opacity\",\n  from: 0.5,\n  to: 0.5,\n  begin: \"0s\",\n  dur: \"0.8s\",\n  values: \".5;1;.5\",\n  calcMode: \"linear\",\n  repeatCount: \"indefinite\"\n}));\n\nvar _ref4 =\n/*#__PURE__*/\nReact.createElement(\"circle\", {\n  cx: 105,\n  cy: 15,\n  r: 15\n}, React.createElement(\"animate\", {\n  attributeName: \"r\",\n  from: 15,\n  to: 15,\n  begin: \"0s\",\n  dur: \"0.8s\",\n  values: \"15;9;15\",\n  calcMode: \"linear\",\n  repeatCount: \"indefinite\"\n}), React.createElement(\"animate\", {\n  attributeName: \"fill-opacity\",\n  from: 1,\n  to: 1,\n  begin: \"0s\",\n  dur: \"0.8s\",\n  values: \"1;.5;1\",\n  calcMode: \"linear\",\n  repeatCount: \"indefinite\"\n}));\n\nvar SvgThreeDots = function SvgThreeDots(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 120,\n    height: 30,\n    viewBox: \"0 0 120 30\",\n    fill: \"#fff\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgThreeDots, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/three-dots.7627bc82.svg\";\nexport { ForwardRef as ReactComponent };","import { ReactComponent as Spinner } from '../../assets/icons/three-dots.svg'\n\nexport default Spinner\n","import React from 'react'\nimport Spinner from '../shared/Spinner'\n\nconst SpinnerView = () => {\n  return (\n    <div className=\"spinnerView\">\n      <Spinner />\n    </div>\n  )\n}\n\nexport default SpinnerView\n","import React from 'react'\n\nconst ErrorView = ({ error, onClickTryAgain }) => {\n  return (\n    <div className=\"errorView\">\n      <h2 className=\"errorView-title\">Error loading WhatsApp Chat</h2>\n      <p className=\"errorView-description\">{error?.message}</p>\n      <button className=\"errorView-button\" onClick={onClickTryAgain}>\n        Try again\n      </button>\n    </div>\n  )\n}\n\nexport default ErrorView\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"line\", {\n  x1: 19,\n  y1: 12,\n  x2: 5,\n  y2: 12\n});\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"polyline\", {\n  points: \"12 19 5 12 12 5\"\n});\n\nvar SvgArrowLeft = function SvgArrowLeft(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 40,\n    height: 40,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 2,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-arrow-left\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgArrowLeft, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/arrow-left.3b5d5b59.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react'\nimport { ReactComponent as BackArrow } from '../../assets/icons/arrow-left.svg'\n\nconst ContactSelector = ({ contacts, onSelectContact, goBack }) => {\n  return (\n    <div className=\"contactSelector\">\n      <div className=\"contactSelector-header\">\n        <BackArrow className=\"back-arrow\" onClick={goBack} />\n        <h3 className=\"text\">Select who you are.</h3>\n      </div>\n\n      <div className=\"contactSelector-contactList\">\n        {contacts.map((contact) => (\n          <button\n            className=\"contactSelector-contact\"\n            key={contact}\n            onClick={() => onSelectContact(contact)}\n          >\n            {contact}\n          </button>\n        ))}\n      </div>\n    </div>\n  )\n}\n\nexport default ContactSelector\n","import React from 'react'\nimport { ReactComponent as BackArrow } from '../../assets/icons/arrow-left.svg'\n\nconst ChatView = ({ header, goBack, chatSlot }) => {\n  return (\n    <div className=\"chatView\">\n      <div className=\"chatView-header\">\n        <BackArrow className=\"back-arrow\" onClick={goBack} />\n        <h3 className=\"header-text\">{header}</h3>\n      </div>\n\n      <div className=\"chatView-container\">{chatSlot}</div>\n    </div>\n  )\n}\n\nexport default ChatView\n","import React from 'react'\nimport { dateToLocateTimeString } from '../../app/utils'\n\nconst ChatMessage = ({ msg, msgRef, isMine, isGroup }) => {\n  const messageClassName = isMine ? 'mine' : 'others'\n\n  return (\n    <div className={`message ${messageClassName}`} ref={msgRef}>\n      {isGroup && !isMine ? <p className=\"sender\">{msg.sender}</p> : null}\n      <pre className=\"content\">{msg.message}</pre>\n      <span className=\"date\">{dateToLocateTimeString(msg.date)}</span>\n    </div>\n  )\n}\n\nexport default ChatMessage\n","import React, { useReducer, useLayoutEffect, useCallback } from 'react'\nimport * as R from 'ramda'\n\nconst referenceCreator = (acc, msg) => {\n  acc[msg.id] = React.createRef()\n  return acc\n}\n\nconst initState = ({ chat, messagesPerPage }) => {\n  const allMessages = chat.messages\n\n  const filteredMessages = R.takeLast(messagesPerPage, allMessages)\n\n  return {\n    allMessages,\n    messagesPerPage,\n    messages: filteredMessages,\n    messageRefs: filteredMessages.reduce(referenceCreator, {}),\n    hasMoreMessages: allMessages.length !== filteredMessages.length,\n    isGroupChat: chat.contacts.length > 2,\n    page: 1,\n  }\n}\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case 'loadPrevious': {\n      if (!state.hasMoreMessages) {\n        return state\n      }\n\n      const nextPage = state.page + 1\n\n      const allMessagesLength = state.allMessages.length\n      const nextMessages = state.allMessages.slice(\n        Math.max(0, allMessagesLength - nextPage * state.messagesPerPage),\n        allMessagesLength - state.page * state.messagesPerPage\n      )\n\n      const nextMessagesRefs = nextMessages.reduce(referenceCreator, {})\n\n      const messages = R.concat(nextMessages, state.messages)\n\n      return {\n        ...state,\n        page: nextPage,\n        messages,\n        messageRefs: R.mergeAll([nextMessagesRefs, state.messageRefs]),\n        hasMoreMessages: state.allMessages.length !== messages.length,\n      }\n    }\n\n    default:\n      throw new Error()\n  }\n}\n\nconst useChatState = ({ chat, messagesPerPage }) => {\n  const [state, dispatch] = useReducer(\n    reducer,\n    { chat, messagesPerPage },\n    initState\n  )\n\n  useLayoutEffect(() => {\n    const allMessageCount = state.allMessages.length\n    const latestMessageIndex = Math.max(\n      1,\n      allMessageCount - (state.page - 1) * state.messagesPerPage\n    )\n    const lastMessage = state.messageRefs[latestMessageIndex]\n\n    lastMessage.current.scrollIntoView(true)\n  }, [\n    state.allMessages.length,\n    state.messageRefs,\n    state.messagesPerPage,\n    state.page,\n  ])\n\n  const loadPrevious = useCallback((isVisible) => {\n    if (isVisible) {\n      setTimeout(() => dispatch({ type: 'loadPrevious' }), 400)\n    }\n  }, [])\n\n  return {\n    loadPrevious,\n    ...state,\n  }\n}\n\nexport default useChatState\n","import React from 'react'\nimport ChatView from '../ui/chat/ChatView'\nimport ChatMessage from '../ui/chat/ChatMessage'\nimport VisibilitySensor from 'react-visibility-sensor'\nimport { useCallback } from 'react'\nimport useChatState from './useChatState'\nimport Spinner from '../ui/shared/Spinner'\n\nconst Chat = ({ chat, selectedContact, goBack }) => {\n  const {\n    hasMoreMessages,\n    loadPrevious,\n    messages,\n    messageRefs,\n    isGroupChat,\n  } = useChatState({\n    chat: chat,\n    messagesPerPage: 100,\n  })\n\n  const renderMessage = useCallback(\n    (msg) => {\n      const isMine = msg.sender === selectedContact\n\n      return (\n        <ChatMessage\n          key={msg.id}\n          msg={msg}\n          msgRef={messageRefs[msg.id]}\n          isMine={isMine}\n          isGroup={isGroupChat}\n        />\n      )\n    },\n    [isGroupChat, messageRefs, selectedContact]\n  )\n\n  return (\n    <ChatView\n      header={chat?.header}\n      goBack={goBack}\n      chatSlot={\n        <>\n          {hasMoreMessages && (\n            <VisibilitySensor onChange={loadPrevious} delayedCall={true}>\n              <div className=\"loader\">\n                <Spinner />\n              </div>\n            </VisibilitySensor>\n          )}\n\n          {messages.map(renderMessage)}\n        </>\n      }\n    />\n  )\n}\n\nexport default Chat\n","import { useState, useEffect } from 'react'\n\nfunction getWindowDimensions() {\n  const { innerWidth: width, innerHeight: height } = window\n  return {\n    width,\n    height,\n  }\n}\n\nexport default function useWindowDimensions() {\n  const [windowDimensions, setWindowDimensions] = useState(\n    getWindowDimensions()\n  )\n\n  useEffect(() => {\n    function handleResize() {\n      setWindowDimensions(getWindowDimensions())\n    }\n\n    window.addEventListener('resize', handleResize)\n    return () => window.removeEventListener('resize', handleResize)\n  }, [])\n\n  return windowDimensions\n}\n","import React, { useState, useCallback } from 'react'\nimport Layout from '../ui/shared/Layout'\nimport AboutApp from '../ui/views/AboutApp'\nimport SelectFileView from '../ui/views/SelectFileView'\nimport useMainState from './useMainState'\nimport { isNilOrEmpty } from './utils'\nimport SpinnerView from '../ui/views/SpinnerView'\nimport ErrorView from '../ui/views/ErrorView'\nimport ContactSelector from '../ui/chat/ContactSelector'\nimport Chat from './Chat'\nimport useWindowDimensions from './useWindowDimensions'\n\nconst App = () => {\n  const [selectedFile, setSelectedFile] = useState()\n\n  const {\n    chat,\n    loading,\n    error,\n    selectedContact,\n    setSelectedContact,\n  } = useMainState(selectedFile)\n\n  const hasFile = !isNilOrEmpty(selectedFile)\n  const hasSelectedContact = !isNilOrEmpty(selectedContact)\n\n  const goBack = useCallback(() => {\n    setSelectedFile(null)\n    setSelectedContact(null)\n  }, [setSelectedContact])\n\n  const { width } = useWindowDimensions()\n\n  const isReducedView = width <= 768\n\n  return (\n    <Layout>\n      {(!hasFile || !isReducedView) && <AboutApp />}\n\n      <div className=\"chatContainer\">\n        {!hasFile ? (\n          <SelectFileView onSelectFile={setSelectedFile} />\n        ) : loading ? (\n          <SpinnerView />\n        ) : !isNilOrEmpty(error) ? (\n          <ErrorView error={error} onClickTryAgain={goBack} />\n        ) : !hasSelectedContact ? (\n          <ContactSelector\n            contacts={chat?.contacts || []}\n            onSelectContact={setSelectedContact}\n            goBack={goBack}\n          />\n        ) : (\n          <Chat chat={chat} selectedContact={selectedContact} goBack={goBack} />\n        )}\n      </div>\n\n      {/* <Main goBack={goBack} selectedFile={selectedFile} /> */}\n    </Layout>\n  )\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './styles/index.scss'\nimport App from './app/App'\nimport * as serviceWorker from './serviceWorker'\n\nReactDOM.render(<App />, document.getElementById('root'))\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}